<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.537">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="waterfirst">

<title>R course</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="r_cource2_files/libs/clipboard/clipboard.min.js"></script>
<script src="r_cource2_files/libs/quarto-html/quarto.js"></script>
<script src="r_cource2_files/libs/quarto-html/popper.min.js"></script>
<script src="r_cource2_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="r_cource2_files/libs/quarto-html/anchor.min.js"></script>
<link href="r_cource2_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="r_cource2_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="r_cource2_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="r_cource2_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="r_cource2_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<link href="r_cource2_files/libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet">
<script src="r_cource2_files/libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>
<script src="r_cource2_files/libs/plotly-binding-4.10.4/plotly.js"></script>
<script src="r_cource2_files/libs/typedarray-0.1/typedarray.min.js"></script>
<script src="r_cource2_files/libs/jquery-3.5.1/jquery.min.js"></script>
<link href="r_cource2_files/libs/crosstalk-1.2.1/css/crosstalk.min.css" rel="stylesheet">
<script src="r_cource2_files/libs/crosstalk-1.2.1/js/crosstalk.min.js"></script>
<link href="r_cource2_files/libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css" rel="stylesheet">
<script src="r_cource2_files/libs/plotly-main-2.11.1/plotly-latest.min.js"></script>


</head>

<body>

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#ê¸°ì´ˆ-ë¬¸ë²•" id="toc-ê¸°ì´ˆ-ë¬¸ë²•" class="nav-link active" data-scroll-target="#ê¸°ì´ˆ-ë¬¸ë²•">ê¸°ì´ˆ ë¬¸ë²•</a></li>
  <li><a href="#ì „ì²˜ë¦¬-ì—°ìŠµë¬¸ì œ" id="toc-ì „ì²˜ë¦¬-ì—°ìŠµë¬¸ì œ" class="nav-link" data-scroll-target="#ì „ì²˜ë¦¬-ì—°ìŠµë¬¸ì œ">ì „ì²˜ë¦¬ ì—°ìŠµë¬¸ì œ</a>
  <ul class="collapse">
  <li><a href="#ìœ íŠœë¸Œ-ë°ì¼ë¦¬-ì¸ê¸°ë™ì˜ìƒ-ë¶„ì„" id="toc-ìœ íŠœë¸Œ-ë°ì¼ë¦¬-ì¸ê¸°ë™ì˜ìƒ-ë¶„ì„" class="nav-link" data-scroll-target="#ìœ íŠœë¸Œ-ë°ì¼ë¦¬-ì¸ê¸°ë™ì˜ìƒ-ë¶„ì„"><span style="color:blue;">1. ìœ íŠœë¸Œ ë°ì¼ë¦¬ ì¸ê¸°ë™ì˜ìƒ ë¶„ì„</span></a></li>
  <li><a href="#ë„·í”Œë¦­ìŠ¤-ë°ì´í„°-ë¶„ì„" id="toc-ë„·í”Œë¦­ìŠ¤-ë°ì´í„°-ë¶„ì„" class="nav-link" data-scroll-target="#ë„·í”Œë¦­ìŠ¤-ë°ì´í„°-ë¶„ì„"><span style="color:blue;">2. ë„·í”Œë¦­ìŠ¤ ë°ì´í„° ë¶„ì„</span></a></li>
  </ul></li>
  <li><a href="#ë‚ ì§œ-ë‹¤ë£¨ê¸°lubridate" id="toc-ë‚ ì§œ-ë‹¤ë£¨ê¸°lubridate" class="nav-link" data-scroll-target="#ë‚ ì§œ-ë‹¤ë£¨ê¸°lubridate">ë‚ ì§œ ë‹¤ë£¨ê¸°(lubridate)</a>
  <ul class="collapse">
  <li><a href="#ë…„ë„-ì´í™”ë™ì„œìš¸-ìˆ˜ì˜ë™ë¶€ì‚°ì˜-ì‹œê°„ë‹¨ìœ„ì˜-ê¸°ì˜¨ê³¼-ê°•ìˆ˜ëŸ‰-ë¶„ì„" id="toc-ë…„ë„-ì´í™”ë™ì„œìš¸-ìˆ˜ì˜ë™ë¶€ì‚°ì˜-ì‹œê°„ë‹¨ìœ„ì˜-ê¸°ì˜¨ê³¼-ê°•ìˆ˜ëŸ‰-ë¶„ì„" class="nav-link" data-scroll-target="#ë…„ë„-ì´í™”ë™ì„œìš¸-ìˆ˜ì˜ë™ë¶€ì‚°ì˜-ì‹œê°„ë‹¨ìœ„ì˜-ê¸°ì˜¨ê³¼-ê°•ìˆ˜ëŸ‰-ë¶„ì„"><span style="color:blue;">4. 2020ë…„ë„ ì´í™”ë™(ì„œìš¸) , ìˆ˜ì˜ë™(ë¶€ì‚°)ì˜ ì‹œê°„ë‹¨ìœ„ì˜ ê¸°ì˜¨ê³¼ ê°•ìˆ˜ëŸ‰ ë¶„ì„</span></a></li>
  </ul></li>
  <li><a href="#ë°ì´í„°-ë¶ˆëŸ¬ì˜¤ê¸°ì™€-na-ì²˜ë¦¬" id="toc-ë°ì´í„°-ë¶ˆëŸ¬ì˜¤ê¸°ì™€-na-ì²˜ë¦¬" class="nav-link" data-scroll-target="#ë°ì´í„°-ë¶ˆëŸ¬ì˜¤ê¸°ì™€-na-ì²˜ë¦¬">ë°ì´í„° ë¶ˆëŸ¬ì˜¤ê¸°ì™€ NA ì²˜ë¦¬</a></li>
  <li><a href="#long-form-pivot_longer" id="toc-long-form-pivot_longer" class="nav-link" data-scroll-target="#long-form-pivot_longer">long-form (pivot_longer)</a></li>
  <li><a href="#ì‹œê°í™”-í•˜ê¸°" id="toc-ì‹œê°í™”-í•˜ê¸°" class="nav-link" data-scroll-target="#ì‹œê°í™”-í•˜ê¸°">ì‹œê°í™” í•˜ê¸°</a>
  <ul class="collapse">
  <li><a href="#ì‚°ì ë„-ê·¸ë˜í”„" id="toc-ì‚°ì ë„-ê·¸ë˜í”„" class="nav-link" data-scroll-target="#ì‚°ì ë„-ê·¸ë˜í”„">ì‚°ì ë„ ê·¸ë˜í”„</a></li>
  <li><a href="#color-íŒ”ë ˆíŠ¸" id="toc-color-íŒ”ë ˆíŠ¸" class="nav-link" data-scroll-target="#color-íŒ”ë ˆíŠ¸">Color íŒ”ë ˆíŠ¸</a></li>
  <li><a href="#ë§‰ëŒ€-ê·¸ë˜í”„" id="toc-ë§‰ëŒ€-ê·¸ë˜í”„" class="nav-link" data-scroll-target="#ë§‰ëŒ€-ê·¸ë˜í”„">ë§‰ëŒ€ ê·¸ë˜í”„</a></li>
  <li><a href="#boxplot-ê·¸ë˜í”„" id="toc-boxplot-ê·¸ë˜í”„" class="nav-link" data-scroll-target="#boxplot-ê·¸ë˜í”„">Boxplot ê·¸ë˜í”„</a></li>
  <li><a href="#viloin-ê·¸ë˜í”„" id="toc-viloin-ê·¸ë˜í”„" class="nav-link" data-scroll-target="#viloin-ê·¸ë˜í”„">viloin ê·¸ë˜í”„</a></li>
  <li><a href="#density-ê·¸ë˜í”„" id="toc-density-ê·¸ë˜í”„" class="nav-link" data-scroll-target="#density-ê·¸ë˜í”„">Density ê·¸ë˜í”„</a></li>
  <li><a href="#pair-ê·¸ë˜í”„" id="toc-pair-ê·¸ë˜í”„" class="nav-link" data-scroll-target="#pair-ê·¸ë˜í”„">Pair ê·¸ë˜í”„</a></li>
  <li><a href="#sankey-ê·¸ë˜í”„" id="toc-sankey-ê·¸ë˜í”„" class="nav-link" data-scroll-target="#sankey-ê·¸ë˜í”„">Sankey ê·¸ë˜í”„</a></li>
  <li><a href="#êµ­íšŒì˜ì›ì˜ì„ìˆ˜-ê·¸ë˜í”„" id="toc-êµ­íšŒì˜ì›ì˜ì„ìˆ˜-ê·¸ë˜í”„" class="nav-link" data-scroll-target="#êµ­íšŒì˜ì›ì˜ì„ìˆ˜-ê·¸ë˜í”„">êµ­íšŒì˜ì›ì˜ì„ìˆ˜ ê·¸ë˜í”„</a></li>
  <li><a href="#ê·¸ë˜í”„-ë¶„í• í•˜ê¸°" id="toc-ê·¸ë˜í”„-ë¶„í• í•˜ê¸°" class="nav-link" data-scroll-target="#ê·¸ë˜í”„-ë¶„í• í•˜ê¸°">ê·¸ë˜í”„ ë¶„í• í•˜ê¸°</a></li>
  <li><a href="#patchwork-íŒ¨í‚¤ì§€" id="toc-patchwork-íŒ¨í‚¤ì§€" class="nav-link" data-scroll-target="#patchwork-íŒ¨í‚¤ì§€">Patchwork íŒ¨í‚¤ì§€</a></li>
  <li><a href="#ë…¼ë¬¸ìš©-theme" id="toc-ë…¼ë¬¸ìš©-theme" class="nav-link" data-scroll-target="#ë…¼ë¬¸ìš©-theme">ë…¼ë¬¸ìš© Theme</a></li>
  <li><a href="#plotly-ê·¸ë˜í”„" id="toc-plotly-ê·¸ë˜í”„" class="nav-link" data-scroll-target="#plotly-ê·¸ë˜í”„">Plotly ê·¸ë˜í”„</a></li>
  <li><a href="#ê·¸ë˜í”„-ì €ì¥" id="toc-ê·¸ë˜í”„-ì €ì¥" class="nav-link" data-scroll-target="#ê·¸ë˜í”„-ì €ì¥">ê·¸ë˜í”„ ì €ì¥</a></li>
  <li><a href="#ì‹œê°í™”-ì—°ìŠµ-ë¬¸ì œ" id="toc-ì‹œê°í™”-ì—°ìŠµ-ë¬¸ì œ" class="nav-link" data-scroll-target="#ì‹œê°í™”-ì—°ìŠµ-ë¬¸ì œ">ì‹œê°í™” ì—°ìŠµ ë¬¸ì œ</a></li>
  </ul></li>
  <li><a href="#ë¨¸ì‹ ëŸ¬ë‹" id="toc-ë¨¸ì‹ ëŸ¬ë‹" class="nav-link" data-scroll-target="#ë¨¸ì‹ ëŸ¬ë‹">ë¨¸ì‹ ëŸ¬ë‹</a>
  <ul class="collapse">
  <li><a href="#íšŒê·€regression-í­ê·„ë¶€ë¦¬-ë†’ì´" id="toc-íšŒê·€regression-í­ê·„ë¶€ë¦¬-ë†’ì´" class="nav-link" data-scroll-target="#íšŒê·€regression-í­ê·„ë¶€ë¦¬-ë†’ì´">íšŒê·€(regression) : í­ê·„ë¶€ë¦¬ ë†’ì´</a></li>
  <li><a href="#íšŒê·€ì—°ìŠµë¬¸ì œ" id="toc-íšŒê·€ì—°ìŠµë¬¸ì œ" class="nav-link" data-scroll-target="#íšŒê·€ì—°ìŠµë¬¸ì œ">íšŒê·€ì—°ìŠµë¬¸ì œ</a></li>
  <li><a href="#ë¶„ë¥˜classification-í­ê·„ì¢…ë¥˜" id="toc-ë¶„ë¥˜classification-í­ê·„ì¢…ë¥˜" class="nav-link" data-scroll-target="#ë¶„ë¥˜classification-í­ê·„ì¢…ë¥˜">ë¶„ë¥˜(Classification) : í­ê·„ì¢…ë¥˜</a></li>
  <li><a href="#ë¶„ë¥˜ì—°ìŠµë¬¸ì œ" id="toc-ë¶„ë¥˜ì—°ìŠµë¬¸ì œ" class="nav-link" data-scroll-target="#ë¶„ë¥˜ì—°ìŠµë¬¸ì œ">ë¶„ë¥˜ì—°ìŠµë¬¸ì œ</a></li>
  </ul></li>
  </ul>
</nav>
</div>
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">R course</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>waterfirst </p>
          </div>
  </div>
    
  
    
  </div>
  


</header>


<p>tidyverse íŒ¨í‚¤ì§€ë¥¼ ì´ìš©í•˜ì—¬ ë°ì´í„° ì „ì²˜ë¦¬ëŠ” ë°ì´í„° ë¶„ì„ì˜ ê°€ì¥ ì¤‘ìš”í•œ ê³¼ì • R ì´ˆê¸‰ìì—ê²Œ ê°€ë¥´ì³ì£¼ê¸° ìœ„í•´ ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤.</p>
<p><br></p>
<p>To learn more about <strong>Tidyverse</strong> see <a href="https://www.tidyverse.org/" class="uri">https://www.tidyverse.org/</a>.</p>
<p><br> <br></p>
<section id="ê¸°ì´ˆ-ë¬¸ë²•" class="level2">
<h2 class="anchored" data-anchor-id="ê¸°ì´ˆ-ë¬¸ë²•">ê¸°ì´ˆ ë¬¸ë²•</h2>
<p><span style="color:red;">1. ë°ì´í„° í˜•ì‹</span></p>
<pre><code>ìˆ«ìí˜•(numeric) : num(ìˆ«ìí˜•), int(ì •ìˆ˜í˜•), dbl(ì‹¤ìˆ˜í˜•)
ë¬¸ìí˜•(character) : chr
ë²”ì£¼í˜•(factor) : fct
ë…¼ë¦¬í˜•(logical) : logi
ê²°ì¸¡ (Not Available) : NA
ë¬´í•œëŒ€ (Infinite) : Inf
ë°ì´í„° í˜•ì‹ ì•Œì•„ë³´ê¸° : class(ë³€ìˆ˜ëª…) is.numeric(ë³€ìˆ˜ëª…), is.character(ë³€ìˆ˜ëª…), is.factor(ë³€ìˆ˜ëª…)
ë°ì´í„° í˜•ì‹ ë°”ê¾¸ê¸° : as.numeric(ë³€ìˆ˜ëª…), as.factor(ë³€ìˆ˜ëª…), as.character(ë³€ìˆ˜ëª…), as.logical(ë³€ìˆ˜ëª…)</code></pre>
<p><br></p>
<p><span style="color:red;">2. ìì£¼ ì‚¬ìš© í•˜ëŠ” í•¨ìˆ˜</span></p>
<pre><code>í‰ê· (mean) : mean(ë³€ìˆ˜)
ì¤‘ìœ„ìˆ˜(median) : median(ë³€ìˆ˜)
ìµœëŒ€ê°’(max) : max(ë³€ìˆ˜)
ìµœì†Œê°’(min) : min(ë³€ìˆ˜)
ìµœëŒ€-ìµœì†Œ(range) : range(ë³€ìˆ˜)
í•©(sum) : sum(ë³€ìˆ˜)
í‘œì¤€í¸ì°¨(sd) : sd(ë³€ìˆ˜)
ë¶„ì‚°(var) : var(ë³€ìˆ˜)
ì ˆëŒ€ê°’(abs) : abs(ë³€ìˆ˜)
ë°˜ì˜¬ë¦¼(round) : round(ë³€ìˆ˜, ë°˜ì˜¬ë¦¼í•  ì†Œìˆ˜ì  ì•„ë˜ìˆ˜)
ì œê³±ê·¼(sqrt) : sqrt(ë³€ìˆ˜)
ì›ì†Œê°¯ìˆ˜, ë¬¸ìì—´ê¸¸ì´(length) : length(ë³€ìˆ˜)
í–‰, ì—´ì˜ ìˆ˜(dim) : dim(df)
í”„ë¦°íŠ¸(print) : print(ë³€ìˆ˜) / print(â€œë¬¸ìâ€)
ì¡°ê±´(ifelse) : ifelse(x&gt;10, â€œaâ€, â€œbâ€)
ì¤‘ë³µì—†ì´ ê´€ì¸¡ì¹˜ ì¢…ë¥˜(unique, distinct) : unique(ë³€ìˆ˜), df %&gt;% distinct(ì—´ì´ë¦„)
ë¬¸ìíŒ¨í„´ ì°¾ê¸°(grep, grepl) : grep(â€œë¬¸ìâ€, df):ì—´ë²ˆí˜¸ ì¶œë ¥, grepl(â€œë¬¸ìâ€, df):true/falseë¡œ ì¶œë ¥
ë¬¸ìíŒ¨í„´ ì°¾ì•„ ë°”ê¾¸ê¸°(gsub) : gsub(â€œì´ì „ë¬¸ìâ€, â€œìƒˆë¡œìš´ ë¬¸ìâ€, df)
ì—´ê°¯ìˆ˜(ncol) : ncol(df)
í–‰ê°¯ìˆ˜(nrow) : nrow(df)
ì—´ì´ë¦„(colnames) : colnames(df)
í–‰ì´ë¦„(colnames) : rownames(df)
ì—´í•©ì¹˜ê¸°(cbind, bind_cols) : cbind(df1, df2) or bind_cols(df1, df2)
í–‰í•©ì¹˜ê¸°(rbind, bind_rows) : rbind(df1, df2) or bind_rows(df1, df2)
ë¹ˆë„ìˆ˜ êµ¬í•˜ê¸°(table) : table(ë³€ìˆ˜)
ì •ë ¬í•˜ê¸°(sort) : ë‚´ë¦¼ì°¨ìˆœ sort(ë³€ìˆ˜), ì˜¤ë¦„ì°¨ìˆœ sort(ë³€ìˆ˜, decreasing = TRUE)
ì—´ì´ë¦„(names, colnames) : names(ë³€ìˆ˜)
ìµœëŒ€, ìµœì†Œìœ„ì¹˜ ì°¾ê¸°(which.max, which.min) : which.max(ë³€ìˆ˜), which.min(ë³€ìˆ˜)</code></pre>
<p><br></p>
<p><span style="color:red;">3. ì—°ì‚° ê¸°í˜¸</span></p>
<pre><code>"
* (ê³±í•˜ê¸°) : x*2
/ (ë‚˜ëˆ„ê¸°) : x/2
%/% (ë‚˜ëˆ—ì…ˆì˜ ëª«) : 16%/%3 = 5
%% (ë‚˜ëˆ—ì…ˆì˜ ë‚˜ë¨¸ì§€) : 16%/%3 = 1
== (ì¼ì¹˜, True or False) : 3==5, False
!= (ë¶ˆì¼ì¹˜) : 3!=5, True
&amp; (and) : x &gt; 2 &amp; x &lt; 10
| (or) : x &lt; 2 | x &gt; 10
"</code></pre>
<p><br></p>
<p><span style="color:red;">4. dplyr ì „ì²˜ë¦¬ í•¨ìˆ˜</span></p>
<p>[ì°¸ê³  ìë£Œ]<a href="https://rstudio.github.io/cheatsheets/html/data-transformation.html" class="uri">https://rstudio.github.io/cheatsheets/html/data-transformation.html</a></p>
<pre><code>%&gt;% (íŒŒì´í”„ë¼ì¸, ì™¼ìª½ ë°ì´í„°í”„ë ˆì„ì„ ì˜¤ë¥¸ìª½ í•¨ìˆ˜ì— ë„£ì–´ë¼) : df %&gt;% head()

filter (ì¡°ê±´ì— ë§ëŠ” í–‰ ì¶”ì¶œ) : df %&gt;% filter(ì»¬ëŸ¼ëª… == â€œaâ€)

select(íŠ¹ì •ì—´ ì„ íƒ) : df %&gt;% select(ì—´ë²ˆí˜¸) / df[, ì—´ë²ˆí˜¸]

slice(íŠ¹ì •í–‰ ì„ íƒ) : df %&gt;% slice(í–‰ë²ˆí˜¸) / df[í–‰ë²ˆí˜¸, ]
mutate(íŠ¹ì •ì—´ ì¶”ê°€) : df %&gt;% mutate(ìƒˆë¡œìš´ ì—´ì´ë¦„ = )
rename(ì—´ì´ë¦„ ë°”ê¾¸ê¸°) : df %&gt;% rename(ìƒˆë¡œìš´ ì—´ì´ë¦„ = ì´ì „ ì—´ì´ë¦„)
arrange(ì •ë ¬í•˜ê¸°) : ì˜¤ë¦„ì°¨ìˆœ : df %&gt;% arrange(ì—´ì´ë¦„), ë‚´ë¦¼ì°¨ìˆœ : df %&gt;% arrange(desc(ì—´ì´ë¦„))

group_by(íŠ¹ì •ì—´ ê·¸ë£¹í™”), summarise(í†µê³„ì¹˜ ê³„ì‚°) :

df %&gt;% group_by(ì—´ì´ë¦„) %&gt;% summarise(í‰ê· =mean(ì—´ì´ë¦„))
ì—´í•©ì¹˜ê¸°(inner_join, full_join, left_join, right_join) : inner_join(df1, df2, by=â€œnameâ€)

naê°€ ìˆëŠ” í–‰ ì œê±°í•˜ê¸°(na.omit) : na.omit(df)

naê°€ ìˆëŠ” ì—´ì—ì„œ na ëŠ” ì œê±°í•˜ê³  ê³„ì‚°í•˜ê¸° (na.rm=T) : mean(df, na.rm=T)</code></pre>
<p><br> <br></p>
</section>
<section id="ì „ì²˜ë¦¬-ì—°ìŠµë¬¸ì œ" class="level2">
<h2 class="anchored" data-anchor-id="ì „ì²˜ë¦¬-ì—°ìŠµë¬¸ì œ">ì „ì²˜ë¦¬ ì—°ìŠµë¬¸ì œ</h2>
<section id="ìœ íŠœë¸Œ-ë°ì¼ë¦¬-ì¸ê¸°ë™ì˜ìƒ-ë¶„ì„" class="level3">
<h3 class="anchored" data-anchor-id="ìœ íŠœë¸Œ-ë°ì¼ë¦¬-ì¸ê¸°ë™ì˜ìƒ-ë¶„ì„"><span style="color:blue;">1. ìœ íŠœë¸Œ ë°ì¼ë¦¬ ì¸ê¸°ë™ì˜ìƒ ë¶„ì„</span></h3>
<p><em>[ì¶œì²˜] 10ì£¼ì°¨ ì˜ˆìƒë¬¸ì œ (ì‹¤ê¸°1 ìœ í˜•) (ì´ê¸°ì  ìŠ¤í„°ë”” ì¹´í˜)</em></p>
<p>dataurl =https://raw.githubusercontent.com/Datamanim/datarepo/main/youtube/youtube.csv</p>
<ul>
<li>íŒ¨í‚¤ì§€ë¡œë“œ, ë°ì´í„° ë¶ˆëŸ¬ì˜¤ê¸°</li>
</ul>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>df<span class="ot">&lt;-</span><span class="fu">read.csv</span>(<span class="st">"https://raw.githubusercontent.com/Datamanim/datarepo/main/youtube/youtube.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<hr>
<ul>
<li><span style="color:red;">Q1. ì¸ê¸°ë™ì˜ìƒ ì œì‘íšŸìˆ˜ê°€ ë§ì€ ì±„ë„ ìƒìœ„ 10ê°œëª…ì„ ì¶œë ¥í•˜ë¼ (ë‚ ì§œê¸°ì¤€, ì¤‘ë³µí¬í•¨)</span></li>
</ul>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Q1</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>df<span class="sc">%&gt;%</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(channelTitle)<span class="sc">%&gt;%</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">n=</span><span class="fu">n</span>()) <span class="sc">|&gt;</span> </span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="sc">-</span>n) <span class="sc">|&gt;</span> </span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 10 Ã— 2
   channelTitle                          n
   &lt;chr&gt;                             &lt;int&gt;
 1 ì§¤íˆ°                                372
 2 SPOTV                               318
 3 íŒŒë¿Œë¦¬                              318
 4 ëŸ°ë‹ë§¨ - ìŠ¤ë¸ŒìŠ¤ ê³µì‹ ì±„ë„           313
 5 ì— ëšœë£¨ë§ˆëšœë£¨ : MBC ê³µì‹ ì¢…í•© ì±„ë„   293
 6 ì¥ì‚ì­ˆ                              283
 7 BANGTANTV                           275
 8 ì±„ë„ ì‹­ì˜¤ì•¼                         274
 9 ì´ê³¼ì¥                              258
10 ì´ëª‡ëª…                              255</code></pre>
</div>
</div>
<hr>
<ul>
<li><span style="color:red;">Q2. ë…¼ë€ìœ¼ë¡œ ì¸ê¸°ë™ì˜ìƒì´ ëœ ì¼€ì´ìŠ¤ë¥¼ í™•ì¸í•˜ê³  ì‹¶ë‹¤. dislikesìˆ˜ê°€ like ìˆ˜ë³´ë‹¤ ë†’ì€ ë™ì˜ìƒì„ ì œì‘í•œ ì±„ë„ì„ ëª¨ë‘ ì¶œë ¥í•˜ë¼</span></li>
</ul>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Q2</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>df <span class="sc">|&gt;</span> </span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(dislikes<span class="sc">&gt;</span>likes) <span class="sc">|&gt;</span> </span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(channelTitle) <span class="sc">|&gt;</span> </span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>                 channelTitle
1                    í•«ë„ê·¸TV
2                 ASMR ì• ì •TV
3           í•˜ì–€íŠ¸ë¦¬HayanTree
4               ì–‘íŒ¡ YangPang
5           ì² êµ¬í˜• (CHULTUBE)
6                ì™œëƒë§¨í•˜ìš°ìŠ¤
7        (MUTUBE)ì™€ê¾¸ëŒ€ì¥ë´‰ì¤€
8                    ì˜¤ë©”í‚´TV
9                      ìœ¡ì§€ë‹´
10              MapleStory_KR
11 ROAD FIGHTING CHAMPIONSHIP
12              ì‚¬ë‚˜ì´ ê¹€ê¸°í›ˆ
13          ë‚˜í˜¼ìì‚°ë‹¤ STUDIO
14              Gen.G esports</code></pre>
</div>
</div>
<hr>
<ul>
<li><span style="color:red;">Q3. ì¼ìš”ì¼ì— ì¸ê¸°ìˆì—ˆë˜ ì˜ìƒë“¤ì¤‘ ê°€ì¥ë§ì€ ì˜ìƒ ì¢…ë¥˜(categoryId)ëŠ” ë¬´ì—‡ì¸ê°€?</span></li>
</ul>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Q3</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>df <span class="sc">|&gt;</span> </span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(ìš”ì¼ <span class="ot">=</span> <span class="fu">wday</span>(trending_date2, <span class="at">label=</span>T)) <span class="sc">|&gt;</span> </span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(ìš”ì¼ <span class="sc">==</span> <span class="st">"ì¼"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(likes<span class="sc">&gt;</span> dislikes) <span class="sc">|&gt;</span> </span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(categoryId) <span class="sc">|&gt;</span> </span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">n =</span> <span class="fu">n</span>()) <span class="sc">|&gt;</span> </span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="sc">-</span>n) <span class="sc">|&gt;</span> </span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="dv">1</span>) <span class="sc">|&gt;</span> </span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 Ã— 1
  categoryId
       &lt;int&gt;
1         24</code></pre>
</div>
</div>
<hr>
<ul>
<li><span style="color:red;">Q4. ê° ìš”ì¼ë³„ ì¸ê¸° ì˜ìƒë“¤ì˜ categoryIdëŠ” ê°ê° ëª‡ê°œ ì”©ì¸ì§€ í•˜ë‚˜ì˜ ë°ì´í„° í”„ë ˆì„ìœ¼ë¡œ í‘œí˜„í•˜ë¼</span></li>
</ul>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Q5</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>df <span class="sc">|&gt;</span> </span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(ìš”ì¼ <span class="ot">=</span> <span class="fu">wday</span>(trending_date2, <span class="at">label=</span>T)) <span class="sc">|&gt;</span> </span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(categoryId, ìš”ì¼) <span class="sc">|&gt;</span> </span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">table</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>          ìš”ì¼
categoryId   ì¼   ì›”   í™”   ìˆ˜   ëª©   ê¸ˆ   í† 
        1   274  263  257  234  246  243  255
        2    99  105  119  129  128  120  119
        10  830  837  894  917  890  833  776
        15  217  215  208  207  207  187  198
        17  636  668  708  706  682  633  592
        19   91   92   89   85   92   90   87
        20  289  298  285  291  282  283  296
        22 1337 1373 1375 1333 1341 1288 1289
        23  556  594  569  566  560  568  570
        24 3096 3148 3084 3090 2954 2976 3066
        25  437  453  452  468  470  444  422
        26  363  378  394  385  375  369  364
        27  199  205  194  212  194  183  183
        28  167  160  161  165  166  171  173
        29    9   10   11   12   13   12   10</code></pre>
</div>
</div>
<hr>
<ul>
<li><span style="color:red;">Q5. ëŒ“ê¸€ì˜ ìˆ˜ë¡œ (comment_count) ì˜ìƒ ë°˜ì‘ì— ëŒ€í•œ íŒë‹¨ì„ í•  ìˆ˜ ìˆë‹¤. viewcountëŒ€ë¹„ ëŒ“ê¸€ìˆ˜ê°€ ê°€ì¥ ë†’ì€ ì˜ìƒì„ í™•ì¸í•˜ë¼ (view_countê°’ì´ 0ì¸ ê²½ìš°ëŠ” ì œì™¸í•œë‹¤)</span></li>
</ul>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Q5</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>df <span class="sc">|&gt;</span> </span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(view_count <span class="sc">!=</span> <span class="dv">0</span>) <span class="sc">|&gt;</span> </span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">ratio =</span> comment_count<span class="sc">/</span>view_count) <span class="sc">|&gt;</span> </span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="sc">-</span>ratio)<span class="sc">|&gt;</span> </span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="dv">1</span>) <span class="sc">|&gt;</span> </span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(title )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>                                                        title
1 60ë¶„ ë™ì•ˆ ëŒ“ê¸€ì´ ë‹¬ë¦¬ì§€ ì•Šìœ¼ë©´, ì˜ìƒì´ ì‚­ì œë©ë‹ˆë‹¤. (ì±Œë¦°ì§€)</code></pre>
</div>
</div>
<hr>
<ul>
<li><span style="color:red;">Q6. like ëŒ€ë¹„ dislikeì˜ ìˆ˜ê°€ ê°€ì¥ ì ì€ ì˜ìƒì€ ë¬´ì—‡ì¸ê°€? (like, dislike ê°’ì´ 0ì¸ê²½ìš°ëŠ” ì œì™¸í•œë‹¤)</span></li>
</ul>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Q6</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>df <span class="sc">|&gt;</span> </span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(dislikes <span class="sc">!=</span> <span class="dv">0</span> <span class="sc">&amp;</span> likes <span class="sc">!=</span> <span class="dv">0</span>) <span class="sc">|&gt;</span> </span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">n =</span> likes <span class="sc">/</span> dislikes) <span class="sc">|&gt;</span> </span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="sc">-</span>n) <span class="sc">|&gt;</span> </span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="dv">1</span>) <span class="sc">|&gt;</span> </span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(title)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>                                                                                                         title
1 [ì¤Œí„°ë·°] *ìµœì´ˆê³µê°œ* ì‚¬ë¶€ì‘ì¦ˆğŸ°ğŸ¶ì˜ ë¹„ê³µì‹ ì´ë¦„ì€ ì•„ì´ë¼ì¸ì¦ˆ? ê¿€ì¡°í•© í‹°í‚¤íƒ€ì¹´ ê°€ë“í•œ NCT 127 ë„ì˜&amp;ì •ìš°ì˜ ì¤Œí„°ë·°</code></pre>
</div>
</div>
<hr>
<ul>
<li><span style="color:red;">Q7. ê°€ì¥ë§ì€ íŠ¸ë Œë“œ ì˜ìƒì„ ì œì‘í•œ ì±„ë„ì˜ ì´ë¦„ì€ ë¬´ì—‡ì¸ê°€? (ë‚ ì§œê¸°ì¤€, ì¤‘ë³µí¬í•¨)</span></li>
</ul>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Q7</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>df <span class="sc">|&gt;</span> </span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(channelTitle)<span class="sc">%&gt;%</span></span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">n=</span><span class="fu">n</span>()) <span class="sc">|&gt;</span> </span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="sc">-</span>n) <span class="sc">|&gt;</span> </span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 Ã— 2
  channelTitle     n
  &lt;chr&gt;        &lt;int&gt;
1 ì§¤íˆ°           372</code></pre>
</div>
</div>
<hr>
<ul>
<li><span style="color:red;">Q8. 20íšŒ(20ì¼)ì´ìƒ ì¸ê¸°ë™ì˜ìƒ ë¦¬ìŠ¤íŠ¸ì— í¬í•¨ëœ ë™ì˜ìƒì˜ ìˆ«ìëŠ”?</span></li>
</ul>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Q8</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>df <span class="sc">|&gt;</span> </span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(title) <span class="sc">|&gt;</span> </span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">n =</span> <span class="fu">n</span>()) <span class="sc">|&gt;</span> </span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(n <span class="sc">&gt;=</span> <span class="dv">20</span>) <span class="sc">|&gt;</span> </span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 Ã— 1
      n
  &lt;int&gt;
1    41</code></pre>
</div>
</div>
<hr>
<hr>
</section>
<section id="ë„·í”Œë¦­ìŠ¤-ë°ì´í„°-ë¶„ì„" class="level3">
<h3 class="anchored" data-anchor-id="ë„·í”Œë¦­ìŠ¤-ë°ì´í„°-ë¶„ì„"><span style="color:blue;">2. ë„·í”Œë¦­ìŠ¤ ë°ì´í„° ë¶„ì„</span></h3>
<p><em>[ì¶œì²˜] 9ì£¼ì°¨ ì˜ˆìƒë¬¸ì œ (ì‹¤ê¸°1 ìœ í˜•) (ì´ê¸°ì  ìŠ¤í„°ë”” ì¹´í˜)</em></p>
<p>dataurl =https://raw.githubusercontent.com/Datamanim/datarepo/main/nflx/NFLX.csv</p>
<ul>
<li>íŒ¨í‚¤ì§€ë¡œë“œ, ë°ì´í„° ë¶ˆëŸ¬ì˜¤ê¸°</li>
</ul>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"https://raw.githubusercontent.com/Datamanim/datarepo/main/nflx/NFLX.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<ul>
<li><span style="color:red;">Q1. ë§¤ë…„ 5ì›”ë‹¬ì˜ open ê°€ê²©ì˜ í‰ê· ê°’ì„ ë°ì´í„°í”„ë ˆì„ìœ¼ë¡œ í‘œí˜„í•˜ë¼.</span></li>
</ul>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Q1</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lubridate)</span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>df <span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">year =</span> <span class="fu">year</span>(Date),</span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>             <span class="at">month =</span> <span class="fu">month</span>(Date)) <span class="sc">|&gt;</span></span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(month <span class="sc">==</span> <span class="dv">5</span>) <span class="sc">|&gt;</span> </span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(year) <span class="sc">|&gt;</span> </span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(í‰ê·  <span class="ot">=</span> <span class="fu">mean</span>(Open))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 20 Ã— 2
    year   í‰ê· 
   &lt;dbl&gt;  &lt;dbl&gt;
 1  2002   1.16
 2  2003   1.64
 3  2004   4.26
 4  2005   1.95
 5  2006   4.16
 6  2007   3.16
 7  2008   4.44
 8  2009   5.79
 9  2010  14.4 
10  2011  34.7 
11  2012  10.5 
12  2013  31.9 
13  2014  51.1 
14  2015  85.1 
15  2016  92.7 
16  2017 158.  
17  2018 330.  
18  2019 360.  
19  2020 434.  
20  2021 497.  </code></pre>
</div>
</div>
<hr>
<hr>
</section>
</section>
<section id="ë‚ ì§œ-ë‹¤ë£¨ê¸°lubridate" class="level2">
<h2 class="anchored" data-anchor-id="ë‚ ì§œ-ë‹¤ë£¨ê¸°lubridate">ë‚ ì§œ ë‹¤ë£¨ê¸°(lubridate)</h2>
<p>To learn more about <strong>lubridate</strong> see <a href="https://lubridate.tidyverse.org/" class="uri">https://lubridate.tidyverse.org/</a>.</p>
<ul>
<li>íŒ¨í‚¤ì§€ ì„¤ì¹˜, ë¶ˆëŸ¬ì˜¤ê¸°</li>
</ul>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="co">#install.packages('lubridate')</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(<span class="st">'lubridate'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<ul>
<li>ë¬¸ìë¡œ í‘œí˜„ëœ ë‚ ì§œë¥¼ ë‚ ì§œë³€ìˆ˜ë¡œ ë°”ê¾¸ê¸°</li>
</ul>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>date <span class="ot">&lt;-</span> <span class="st">'2020-01-10'</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(date)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "character"</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>date2 <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(date)</span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(date2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Date"</code></pre>
</div>
</div>
<ul>
<li>ì—°, ì›”, ì¼ ë½‘ì•„ë‚´ê¸°</li>
</ul>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="fu">year</span>(date)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2020</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="fu">month</span>(date)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="fu">day</span>(date)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 10</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ymd</span>(date)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2020-01-10"</code></pre>
</div>
</div>
<ul>
<li>ì£¼, ìš”ì¼ ë½‘ì•„ë‚´ê¸°</li>
</ul>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="fu">week</span>(date)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="fu">wday</span>(date)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 6</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="fu">wday</span>(date, <span class="at">label =</span> T)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] ê¸ˆ
Levels: ì¼ &lt; ì›” &lt; í™” &lt; ìˆ˜ &lt; ëª© &lt; ê¸ˆ &lt; í† </code></pre>
</div>
</div>
<ul>
<li>ì‹œê°„, ë¶„, ì´ˆ ë½‘ì•„ë‚´ê¸°</li>
</ul>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="fu">now</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2024-05-18 09:00:25 KST"</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a>time <span class="ot">&lt;-</span> <span class="fu">now</span>()</span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a><span class="fu">hour</span>(time)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 9</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="fu">minute</span>(time)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="fu">second</span>(time)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 25.14962</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ymd_hms</span>(time)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2024-05-18 09:00:25 UTC"</code></pre>
</div>
</div>
<hr>
<section id="ë…„ë„-ì´í™”ë™ì„œìš¸-ìˆ˜ì˜ë™ë¶€ì‚°ì˜-ì‹œê°„ë‹¨ìœ„ì˜-ê¸°ì˜¨ê³¼-ê°•ìˆ˜ëŸ‰-ë¶„ì„" class="level3">
<h3 class="anchored" data-anchor-id="ë…„ë„-ì´í™”ë™ì„œìš¸-ìˆ˜ì˜ë™ë¶€ì‚°ì˜-ì‹œê°„ë‹¨ìœ„ì˜-ê¸°ì˜¨ê³¼-ê°•ìˆ˜ëŸ‰-ë¶„ì„"><span style="color:blue;">4. 2020ë…„ë„ ì´í™”ë™(ì„œìš¸) , ìˆ˜ì˜ë™(ë¶€ì‚°)ì˜ ì‹œê°„ë‹¨ìœ„ì˜ ê¸°ì˜¨ê³¼ ê°•ìˆ˜ëŸ‰ ë¶„ì„</span></h3>
<p><em>[ì¶œì²˜] 1ì£¼ì°¨ ì˜ˆìƒë¬¸ì œ (ì‹¤ê¸°1 ìœ í˜•) (ì´ê¸°ì  ìŠ¤í„°ë”” ì¹´í˜)</em></p>
<p>dataurl = https://raw.githubusercontent.com/Datamanim/datarepo/main/weather/weather2.csv</p>
<ul>
<li>íŒ¨í‚¤ì§€ë¡œë“œ, ë°ì´í„° ë¶ˆëŸ¬ì˜¤ê¸°</li>
</ul>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb54-3"><a href="#cb54-3" aria-hidden="true" tabindex="-1"></a>df<span class="ot">&lt;-</span><span class="fu">read.csv</span>(<span class="st">"https://raw.githubusercontent.com/Datamanim/datarepo/main/weather/weather2.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<hr>
<ul>
<li><span style="color:red;">Q1. ì—¬ë¦„ì² (6ì›”,7ì›”,8ì›”) ì´í™”ë™ì´ ìˆ˜ì˜ë™ë³´ë‹¤ ë†’ì€ ê¸°ì˜¨ì„ ê°€ì§„ ì‹œê°„ëŒ€ëŠ” ëª‡ê°œì¸ê°€?</span></li>
</ul>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Q1</span></span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-3"><a href="#cb55-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lubridate)</span>
<span id="cb55-4"><a href="#cb55-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-5"><a href="#cb55-5" aria-hidden="true" tabindex="-1"></a>df <span class="sc">|&gt;</span> </span>
<span id="cb55-6"><a href="#cb55-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(ì›” <span class="ot">=</span> <span class="fu">month</span>(time),</span>
<span id="cb55-7"><a href="#cb55-7" aria-hidden="true" tabindex="-1"></a>         ì‹œê°„ <span class="ot">=</span> <span class="fu">hour</span>(time)) <span class="sc">|&gt;</span> </span>
<span id="cb55-8"><a href="#cb55-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(ì›” <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">6</span>,<span class="dv">7</span>,<span class="dv">8</span>),</span>
<span id="cb55-9"><a href="#cb55-9" aria-hidden="true" tabindex="-1"></a>         ì´í™”ë™ê¸°ì˜¨ <span class="sc">&gt;</span> ìˆ˜ì˜ë™ê¸°ì˜¨) <span class="sc">|&gt;</span> </span>
<span id="cb55-10"><a href="#cb55-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">nrow</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1415</code></pre>
</div>
</div>
<ul>
<li><span style="color:red;">Q2. ì´í™”ë™ê³¼ ìˆ˜ì˜ë™ì˜ ìµœëŒ€ê°•ìˆ˜ëŸ‰ì˜ ì‹œê°„ëŒ€ë¥¼ ê°ê° êµ¬í•˜ì—¬ë¼</span></li>
</ul>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Q2</span></span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-3"><a href="#cb57-3" aria-hidden="true" tabindex="-1"></a>df <span class="sc">|&gt;</span> </span>
<span id="cb57-4"><a href="#cb57-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(ì´í™”ë™ê°•ìˆ˜ <span class="sc">==</span> <span class="fu">max</span>(ì´í™”ë™ê°•ìˆ˜ ) ) <span class="sc">|&gt;</span> </span>
<span id="cb57-5"><a href="#cb57-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(time)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>                 time
1 2020-09-30 09:00:00</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a>df <span class="sc">|&gt;</span> </span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(ìˆ˜ì˜ë™ê°•ìˆ˜ <span class="sc">==</span> <span class="fu">max</span>(ìˆ˜ì˜ë™ê°•ìˆ˜)) <span class="sc">|&gt;</span> </span>
<span id="cb59-3"><a href="#cb59-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(time)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>                 time
1 2020-07-23 12:00:00</code></pre>
</div>
</div>
</section>
</section>
<section id="ë°ì´í„°-ë¶ˆëŸ¬ì˜¤ê¸°ì™€-na-ì²˜ë¦¬" class="level2">
<h2 class="anchored" data-anchor-id="ë°ì´í„°-ë¶ˆëŸ¬ì˜¤ê¸°ì™€-na-ì²˜ë¦¬">ë°ì´í„° ë¶ˆëŸ¬ì˜¤ê¸°ì™€ NA ì²˜ë¦¬</h2>
<p>To learn more about <strong>tidyr</strong> see <a href="https://tidyr.tidyverse.org/reference/pivot_longer.html/" class="uri">https://tidyr.tidyverse.org/reference/pivot_longer.html/</a>.</p>
<p>ë°ì´í„° ë¶„ì„ì˜ ì²« ê±¸ìŒì€ ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ê³¼ì •ì´ë‹¤.</p>
<ol type="1">
<li><p>Rì˜ ë‚´ì¥ ë°ì´í„°ì—ì„œ ë¶ˆëŸ¬ì˜¤ê¸°</p>
<p>data() , help(â€œAirPassengersâ€)</p></li>
</ol>
<p><a href="https://vincentarelbundock.github.io/Rdatasets/datasets.html" class="uri">https://vincentarelbundock.github.io/Rdatasets/datasets.html</a></p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(AirPassengers)</span>
<span id="cb61-2"><a href="#cb61-2" aria-hidden="true" tabindex="-1"></a>AirPassengers</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>     Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec
1949 112 118 132 129 121 135 148 148 136 119 104 118
1950 115 126 141 135 125 149 170 170 158 133 114 140
1951 145 150 178 163 172 178 199 199 184 162 146 166
1952 171 180 193 181 183 218 230 242 209 191 172 194
1953 196 196 236 235 229 243 264 272 237 211 180 201
1954 204 188 235 227 234 264 302 293 259 229 203 229
1955 242 233 267 269 270 315 364 347 312 274 237 278
1956 284 277 317 313 318 374 413 405 355 306 271 306
1957 315 301 356 348 355 422 465 467 404 347 305 336
1958 340 318 362 348 363 435 491 505 404 359 310 337
1959 360 342 406 396 420 472 548 559 463 407 362 405
1960 417 391 419 461 472 535 622 606 508 461 390 432</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(AirPassengers, <span class="at">main =</span> <span class="st">"Airline Passengers Over Time"</span>,</span>
<span id="cb63-2"><a href="#cb63-2" aria-hidden="true" tabindex="-1"></a>     <span class="at">xlab =</span> <span class="st">"Year-Month"</span>, <span class="at">ylab =</span> <span class="st">"Number of Passengers"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="r_cource2_files/figure-html/unnamed-chunk-20-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<ol start="2" type="1">
<li><p>ì™¸ì¥ë°ì´í„° ë¶ˆëŸ¬ì˜¤ê¸° (package ì„¤ì¹˜, libraryë¡œ ë¶ˆëŸ¬ì˜¤ê¸°)</p>
<p>gapminder : ì„¸ê³„ ì—¬ëŸ¬ êµ­ê°€ì˜ ì¸êµ¬, ê²½ì œ, ê±´ê°• ë“±ì˜ ë°ì´í„°ë¥¼ í¬í•¨</p></li>
</ol>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a><span class="co">#install.packages("gapminder")</span></span>
<span id="cb64-2"><a href="#cb64-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gapminder)</span>
<span id="cb64-3"><a href="#cb64-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-4"><a href="#cb64-4" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(gapminder)</span>
<span id="cb64-5"><a href="#cb64-5" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(gapminder)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 Ã— 6
  country     continent  year lifeExp      pop gdpPercap
  &lt;fct&gt;       &lt;fct&gt;     &lt;int&gt;   &lt;dbl&gt;    &lt;int&gt;     &lt;dbl&gt;
1 Afghanistan Asia       1952    28.8  8425333      779.
2 Afghanistan Asia       1957    30.3  9240934      821.
3 Afghanistan Asia       1962    32.0 10267083      853.
4 Afghanistan Asia       1967    34.0 11537966      836.
5 Afghanistan Asia       1972    36.1 13079460      740.
6 Afghanistan Asia       1977    38.4 14880372      786.</code></pre>
</div>
</div>
<ol start="3" type="1">
<li><p>í´ë¦­ë³´ë“œ(ì—‘ì…€)ì—ì„œ ë¶™ì—¬ë„£ê¸°</p>
<p>datapaste íŒ¨í‚¤ì§€ ì„¤ì¹˜ -&gt; ì—‘ì…€ì—ì„œ ctrl+c -&gt; RStudioì˜ Addinsì—ì„œ Paste as tribble</p></li>
</ol>
<!-- -->
<ol start="4" type="1">
<li>csv íŒŒì¼ì—ì„œ ë¶ˆëŸ¬ì˜¤ê¸°</li>
</ol>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: true</span></span>
<span id="cb66-2"><a href="#cb66-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb66-3"><a href="#cb66-3" aria-hidden="true" tabindex="-1"></a> <span class="co">#  read.csv ("D:/r/data/test.csv")       ## **/** ë°©í–¥ ì£¼ì˜</span></span>
<span id="cb66-4"><a href="#cb66-4" aria-hidden="true" tabindex="-1"></a> <span class="co">#  read.csv ("D:\\r\\data\\test.csv")    ## **\\** ë°©í–¥ ì£¼ì˜</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<ol start="5" type="1">
<li>ì—‘ì…€íŒŒì¼ ë¶ˆëŸ¬ì˜¤ê¸° <a href="https://readxl.tidyverse.org/" class="uri">https://readxl.tidyverse.org/</a></li>
</ol>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb67"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: true</span></span>
<span id="cb67-2"><a href="#cb67-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb67-3"><a href="#cb67-3" aria-hidden="true" tabindex="-1"></a><span class="co">#   install.packages('readxl')</span></span>
<span id="cb67-4"><a href="#cb67-4" aria-hidden="true" tabindex="-1"></a><span class="co">#   library(readxl)</span></span>
<span id="cb67-5"><a href="#cb67-5" aria-hidden="true" tabindex="-1"></a><span class="co">#   read_excel("my_file.xls")</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<ol start="6" type="1">
<li>NA ì²˜ë¦¬í•˜ê¸° <a href="https://tidyr.tidyverse.org/reference/fill.html" class="uri">https://tidyr.tidyverse.org/reference/fill.html</a></li>
</ol>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a>sales <span class="ot">&lt;-</span> tibble<span class="sc">::</span><span class="fu">tribble</span>(</span>
<span id="cb68-2"><a href="#cb68-2" aria-hidden="true" tabindex="-1"></a>  <span class="sc">~</span>quarter, <span class="sc">~</span>year, <span class="sc">~</span>sales,</span>
<span id="cb68-3"><a href="#cb68-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Q1"</span>,    <span class="dv">2000</span>,    <span class="dv">66013</span>,</span>
<span id="cb68-4"><a href="#cb68-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Q2"</span>,      <span class="cn">NA</span>,    <span class="dv">69182</span>,</span>
<span id="cb68-5"><a href="#cb68-5" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Q3"</span>,      <span class="cn">NA</span>,    <span class="dv">53175</span>,</span>
<span id="cb68-6"><a href="#cb68-6" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Q4"</span>,      <span class="cn">NA</span>,    <span class="dv">21001</span>,</span>
<span id="cb68-7"><a href="#cb68-7" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Q1"</span>,    <span class="dv">2001</span>,    <span class="dv">46036</span>,</span>
<span id="cb68-8"><a href="#cb68-8" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Q2"</span>,      <span class="cn">NA</span>,    <span class="dv">58842</span>,</span>
<span id="cb68-9"><a href="#cb68-9" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Q3"</span>,      <span class="cn">NA</span>,    <span class="dv">44568</span>,</span>
<span id="cb68-10"><a href="#cb68-10" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Q4"</span>,      <span class="cn">NA</span>,    <span class="dv">50197</span>,</span>
<span id="cb68-11"><a href="#cb68-11" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Q1"</span>,    <span class="dv">2002</span>,    <span class="dv">39113</span>,</span>
<span id="cb68-12"><a href="#cb68-12" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Q2"</span>,      <span class="cn">NA</span>,    <span class="dv">41668</span>,</span>
<span id="cb68-13"><a href="#cb68-13" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Q3"</span>,      <span class="cn">NA</span>,    <span class="dv">30144</span>,</span>
<span id="cb68-14"><a href="#cb68-14" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Q4"</span>,      <span class="cn">NA</span>,    <span class="dv">52897</span>,</span>
<span id="cb68-15"><a href="#cb68-15" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Q1"</span>,    <span class="dv">2004</span>,    <span class="dv">32129</span>,</span>
<span id="cb68-16"><a href="#cb68-16" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Q2"</span>,      <span class="cn">NA</span>,    <span class="dv">67686</span>,</span>
<span id="cb68-17"><a href="#cb68-17" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Q3"</span>,      <span class="cn">NA</span>,    <span class="dv">31768</span>,</span>
<span id="cb68-18"><a href="#cb68-18" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Q4"</span>,      <span class="cn">NA</span>,    <span class="dv">49094</span></span>
<span id="cb68-19"><a href="#cb68-19" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb68-20"><a href="#cb68-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb68-21"><a href="#cb68-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb68-22"><a href="#cb68-22" aria-hidden="true" tabindex="-1"></a><span class="co"># `fill()` defaults to replacing missing data from top to bottom</span></span>
<span id="cb68-23"><a href="#cb68-23" aria-hidden="true" tabindex="-1"></a>sales <span class="sc">%&gt;%</span> <span class="fu">fill</span>(year, <span class="at">.direction =</span> <span class="st">"down"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 16 Ã— 3
   quarter  year sales
   &lt;chr&gt;   &lt;dbl&gt; &lt;dbl&gt;
 1 Q1       2000 66013
 2 Q2       2000 69182
 3 Q3       2000 53175
 4 Q4       2000 21001
 5 Q1       2001 46036
 6 Q2       2001 58842
 7 Q3       2001 44568
 8 Q4       2001 50197
 9 Q1       2002 39113
10 Q2       2002 41668
11 Q3       2002 30144
12 Q4       2002 52897
13 Q1       2004 32129
14 Q2       2004 67686
15 Q3       2004 31768
16 Q4       2004 49094</code></pre>
</div>
</div>
<ol start="7" type="1">
<li>NAë¥¼ í‰ê· , ì¤‘ì•™ê°’ìœ¼ë¡œ ëŒ€ì²´í•˜ê¸°</li>
</ol>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(airquality)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>  Ozone Solar.R Wind Temp Month Day
1    41     190  7.4   67     5   1
2    36     118  8.0   72     5   2
3    12     149 12.6   74     5   3
4    18     313 11.5   62     5   4
5    NA      NA 14.3   56     5   5
6    28      NA 14.9   66     5   6</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a><span class="fu">colSums</span>(<span class="fu">is.na</span>(airquality))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>  Ozone Solar.R    Wind    Temp   Month     Day 
     37       7       0       0       0       0 </code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a>airquality <span class="sc">|&gt;</span> </span>
<span id="cb74-2"><a href="#cb74-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Ozone =</span> <span class="fu">ifelse</span>(<span class="fu">is.na</span>(Ozone), <span class="fu">mean</span>(Ozone, <span class="at">na.rm=</span>T), Ozone),</span>
<span id="cb74-3"><a href="#cb74-3" aria-hidden="true" tabindex="-1"></a>         <span class="at">Solar.R =</span> <span class="fu">ifelse</span>(<span class="fu">is.na</span>(Ozone), <span class="fu">median</span>(Ozone, <span class="at">na.rm=</span>T), Solar.R)) <span class="ot">-&gt;</span> airquality2</span>
<span id="cb74-4"><a href="#cb74-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb74-5"><a href="#cb74-5" aria-hidden="true" tabindex="-1"></a><span class="fu">colSums</span>(<span class="fu">is.na</span>(airquality2))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>  Ozone Solar.R    Wind    Temp   Month     Day 
      0       7       0       0       0       0 </code></pre>
</div>
</div>
</section>
<section id="long-form-pivot_longer" class="level2">
<h2 class="anchored" data-anchor-id="long-form-pivot_longer">long-form (pivot_longer)</h2>
<p>pivot_longer : <a href="https://tidyr.tidyverse.org/reference/pivot_longer.html" class="uri">https://tidyr.tidyverse.org/reference/pivot_longer.html</a> pivot_wider : <a href="https://tidyr.tidyverse.org/reference/pivot_wider.html" class="uri">https://tidyr.tidyverse.org/reference/pivot_wider.html</a></p>
<p><img src="data/longform_wideform.png" class="img-fluid" width="719"></p>
<p>iris ë°ì´í„° : wide form ì„ long formìœ¼ë¡œ ë§Œë“¤ê¸°</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb76"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(iris)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>  Sepal.Length Sepal.Width Petal.Length Petal.Width Species
1          5.1         3.5          1.4         0.2  setosa
2          4.9         3.0          1.4         0.2  setosa
3          4.7         3.2          1.3         0.2  setosa
4          4.6         3.1          1.5         0.2  setosa
5          5.0         3.6          1.4         0.2  setosa
6          5.4         3.9          1.7         0.4  setosa</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb78"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a>iris <span class="sc">|&gt;</span> <span class="fu">pivot_longer</span>(<span class="at">cols =</span> Sepal.Length<span class="sc">:</span> Petal.Width, <span class="at">names_to =</span> <span class="st">"measure"</span>, <span class="at">values_to =</span> <span class="st">"value"</span>) <span class="sc">|&gt;</span> <span class="fu">head</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 Ã— 3
  Species measure      value
  &lt;fct&gt;   &lt;chr&gt;        &lt;dbl&gt;
1 setosa  Sepal.Length   5.1
2 setosa  Sepal.Width    3.5
3 setosa  Petal.Length   1.4
4 setosa  Petal.Width    0.2
5 setosa  Sepal.Length   4.9
6 setosa  Sepal.Width    3  </code></pre>
</div>
</div>
</section>
<section id="ì‹œê°í™”-í•˜ê¸°" class="level2">
<h2 class="anchored" data-anchor-id="ì‹œê°í™”-í•˜ê¸°">ì‹œê°í™” í•˜ê¸°</h2>
<p>[ì°¸ê³  ìë£Œ]<a href="https://waterfirst.quarto.pub/r_course/#/title-slide" class="uri">https://waterfirst.quarto.pub/r_course/#/title-slide</a> [ì°¸ê³  ìë£Œ]<a href="https://rstudio.github.io/cheatsheets/html/data-visualization.html" class="uri">https://rstudio.github.io/cheatsheets/html/data-visualization.html</a></p>
<p>ChickWeight ë°ì´í„°ì…‹:</p>
<p>weight: ë‹­ì˜ ì²´ì¤‘ Time: ì‹¤í—˜ ì‹œê°„ Chick: ë‹­ì˜ ê³ ìœ  ì‹ë³„ì Diet: ì‹¤í—˜ ê·¸ë£¹ì„ ë‚˜íƒ€ë‚´ëŠ” ë²”ì£¼í˜• ë³€ìˆ˜ë¡œ, ê° ë‹­ì´ ì–´ë–¤ ì¢…ë¥˜ì˜ ì‹ì‚¬ë¥¼ ë°›ì•˜ëŠ”ì§€ë¥¼ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb80"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(ChickWeight)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>  weight Time Chick Diet
1     42    0     1    1
2     51    2     1    1
3     59    4     1    1
4     64    6     1    1
5     76    8     1    1
6     93   10     1    1</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb82"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true" tabindex="-1"></a>ChickWeight <span class="sc">|&gt;</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(Time, weight, <span class="at">col=</span>Chick, <span class="at">fill=</span>Diet))<span class="sc">+</span><span class="fu">geom_point</span>()<span class="sc">+</span></span>
<span id="cb82-2"><a href="#cb82-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>()<span class="sc">+</span></span>
<span id="cb82-3"><a href="#cb82-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>Diet,)<span class="sc">+</span></span>
<span id="cb82-4"><a href="#cb82-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="r_cource2_files/figure-html/unnamed-chunk-27-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<section id="ì‚°ì ë„-ê·¸ë˜í”„" class="level3">
<h3 class="anchored" data-anchor-id="ì‚°ì ë„-ê·¸ë˜í”„">ì‚°ì ë„ ê·¸ë˜í”„</h3>
<p>[ì°¸ê³ ìë£Œ]<a href="https://ggplot2.tidyverse.org/index.html" class="uri">https://ggplot2.tidyverse.org/index.html</a></p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb83"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb83-1"><a href="#cb83-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb83-2"><a href="#cb83-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb83-3"><a href="#cb83-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mpg, <span class="fu">aes</span>(cty, hwy)) <span class="sc">+</span></span>
<span id="cb83-4"><a href="#cb83-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">colour =</span> displ)) <span class="sc">+</span></span>
<span id="cb83-5"><a href="#cb83-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">formula =</span> y <span class="sc">~</span> x, <span class="at">method =</span> <span class="st">"lm"</span>) <span class="sc">+</span></span>
<span id="cb83-6"><a href="#cb83-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_colour_viridis_c</span>() <span class="sc">+</span></span>
<span id="cb83-7"><a href="#cb83-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(year <span class="sc">~</span> drv) <span class="sc">+</span></span>
<span id="cb83-8"><a href="#cb83-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_fixed</span>() <span class="sc">+</span></span>
<span id="cb83-9"><a href="#cb83-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb83-10"><a href="#cb83-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">panel.grid.minor =</span> <span class="fu">element_blank</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="r_cource2_files/figure-html/unnamed-chunk-28-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="color-íŒ”ë ˆíŠ¸" class="level3">
<h3 class="anchored" data-anchor-id="color-íŒ”ë ˆíŠ¸">Color íŒ”ë ˆíŠ¸</h3>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb84"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb84-1"><a href="#cb84-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(RColorBrewer)</span>
<span id="cb84-2"><a href="#cb84-2" aria-hidden="true" tabindex="-1"></a><span class="fu">display.brewer.all</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="r_cource2_files/figure-html/unnamed-chunk-29-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>ì‚¬ìš©ë²• :</p>
<p>scale_fill_brewer(palette=â€œSet1â€)</p>
<p>scale_colour_brewer(palette=â€œSet1â€)</p>
<p>[Color Pick Up](<a href="https://r-graph-gallery.com/ggplot2-color.html" class="uri">https://r-graph-gallery.com/ggplot2-color.html</a>)</p>
<p>[Colorspace íŒ¨í‚¤ì§€](<a href="https://m.blog.naver.com/regenesis90/222234511150" class="uri">https://m.blog.naver.com/regenesis90/222234511150</a>)</p>
<p>[Sci-Fi](<a href="https://cran.r-project.org/web/packages/ggsci/vignettes/ggsci.html" class="uri">https://cran.r-project.org/web/packages/ggsci/vignettes/ggsci.html</a>)</p>
</section>
<section id="ë§‰ëŒ€-ê·¸ë˜í”„" class="level3">
<h3 class="anchored" data-anchor-id="ë§‰ëŒ€-ê·¸ë˜í”„">ë§‰ëŒ€ ê·¸ë˜í”„</h3>
<p>[ì°¸ê³ ìë£Œ]<a href="https://r-charts.com/ranking/bar-plot-ggplot2/" class="uri">https://r-charts.com/ranking/bar-plot-ggplot2/</a></p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb85"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb85-1"><a href="#cb85-1" aria-hidden="true" tabindex="-1"></a><span class="co"># install.packages("ggplot2")</span></span>
<span id="cb85-2"><a href="#cb85-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb85-3"><a href="#cb85-3" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">group =</span> <span class="fu">c</span>(<span class="st">"A"</span>, <span class="st">"B"</span>, <span class="st">"C"</span>),</span>
<span id="cb85-4"><a href="#cb85-4" aria-hidden="true" tabindex="-1"></a>                 <span class="at">count =</span> <span class="fu">c</span>(<span class="dv">3</span>, <span class="dv">5</span>, <span class="dv">6</span>))</span>
<span id="cb85-5"><a href="#cb85-5" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(df, <span class="fu">aes</span>(<span class="at">x =</span> group, <span class="at">y =</span> count)) <span class="sc">+</span></span>
<span id="cb85-6"><a href="#cb85-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>) <span class="sc">+</span></span>
<span id="cb85-7"><a href="#cb85-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> count), <span class="at">vjust =</span> <span class="sc">-</span><span class="dv">1</span>, <span class="at">colour =</span> <span class="st">"black"</span>) <span class="sc">+</span></span>
<span id="cb85-8"><a href="#cb85-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylim</span>(<span class="fu">c</span>(<span class="dv">0</span>, <span class="fl">6.5</span>)) <span class="co"># Increase the limits of the Y-axis if needed </span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="r_cource2_files/figure-html/unnamed-chunk-30-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb86"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb86-1"><a href="#cb86-1" aria-hidden="true" tabindex="-1"></a><span class="co"># install.packages("ggplot2")</span></span>
<span id="cb86-2"><a href="#cb86-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb86-3"><a href="#cb86-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb86-4"><a href="#cb86-4" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(df, <span class="fu">aes</span>(<span class="at">x =</span> group, <span class="at">y =</span> count)) <span class="sc">+</span></span>
<span id="cb86-5"><a href="#cb86-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>() </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="r_cource2_files/figure-html/unnamed-chunk-31-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="boxplot-ê·¸ë˜í”„" class="level3">
<h3 class="anchored" data-anchor-id="boxplot-ê·¸ë˜í”„">Boxplot ê·¸ë˜í”„</h3>
<p>[ì°¸ê³ ìë£Œ]<a href="https://ggplot2.tidyverse.org/reference/geom_boxplot.html" class="uri">https://ggplot2.tidyverse.org/reference/geom_boxplot.html</a></p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb87"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb87-1"><a href="#cb87-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mpg, <span class="fu">aes</span>(class, hwy)) <span class="sc">+</span> <span class="fu">geom_boxplot</span>(<span class="fu">aes</span>(<span class="at">colour =</span> drv))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="r_cource2_files/figure-html/unnamed-chunk-32-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="viloin-ê·¸ë˜í”„" class="level3">
<h3 class="anchored" data-anchor-id="viloin-ê·¸ë˜í”„">viloin ê·¸ë˜í”„</h3>
<p>[ì°¸ê³ ìë£Œ]<a href="https://r-charts.com/es/distribucion/grafico-violin-grupo-ggplot2/" class="uri">https://r-charts.com/es/distribucion/grafico-violin-grupo-ggplot2/</a></p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb88"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb88-1"><a href="#cb88-1" aria-hidden="true" tabindex="-1"></a><span class="co"># install.packages("ggplot2")</span></span>
<span id="cb88-2"><a href="#cb88-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb88-3"><a href="#cb88-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb88-4"><a href="#cb88-4" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(warpbreaks, <span class="fu">aes</span>(<span class="at">x =</span> tension, <span class="at">y =</span> breaks, <span class="at">fill =</span> tension)) <span class="sc">+</span></span>
<span id="cb88-5"><a href="#cb88-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_violin</span>(<span class="at">trim =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb88-6"><a href="#cb88-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="at">width =</span> <span class="fl">0.07</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="r_cource2_files/figure-html/unnamed-chunk-33-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="density-ê·¸ë˜í”„" class="level3">
<h3 class="anchored" data-anchor-id="density-ê·¸ë˜í”„">Density ê·¸ë˜í”„</h3>
<p>[ì°¸ê³ ìë£Œ]<a href="https://r-charts.com/es/distribucion/grafico-densidad-grupo-ggplot2/" class="uri">https://r-charts.com/es/distribucion/grafico-densidad-grupo-ggplot2/</a></p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb89"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb89-1"><a href="#cb89-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Datos</span></span>
<span id="cb89-2"><a href="#cb89-2" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">5</span>)</span>
<span id="cb89-3"><a href="#cb89-3" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fu">rnorm</span>(<span class="dv">200</span>, <span class="at">mean =</span> <span class="sc">-</span><span class="dv">2</span>, <span class="fl">1.5</span>),</span>
<span id="cb89-4"><a href="#cb89-4" aria-hidden="true" tabindex="-1"></a>       <span class="fu">rnorm</span>(<span class="dv">200</span>, <span class="at">mean =</span> <span class="dv">0</span>, <span class="at">sd =</span> <span class="dv">1</span>),</span>
<span id="cb89-5"><a href="#cb89-5" aria-hidden="true" tabindex="-1"></a>       <span class="fu">rnorm</span>(<span class="dv">200</span>, <span class="at">mean =</span> <span class="dv">2</span>, <span class="fl">1.5</span>))</span>
<span id="cb89-6"><a href="#cb89-6" aria-hidden="true" tabindex="-1"></a>grupo <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fu">rep</span>(<span class="st">"A"</span>, <span class="dv">200</span>), <span class="fu">rep</span>(<span class="st">"B"</span>, <span class="dv">200</span>), <span class="fu">rep</span>(<span class="st">"C"</span>, <span class="dv">200</span>))</span>
<span id="cb89-7"><a href="#cb89-7" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(x, grupo)</span>
<span id="cb89-8"><a href="#cb89-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb89-9"><a href="#cb89-9" aria-hidden="true" tabindex="-1"></a><span class="co"># install.packages("ggplot2")</span></span>
<span id="cb89-10"><a href="#cb89-10" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb89-11"><a href="#cb89-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb89-12"><a href="#cb89-12" aria-hidden="true" tabindex="-1"></a>cols <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"#F76D5E"</span>, <span class="st">"#FFFFBF"</span>, <span class="st">"#72D8FF"</span>)</span>
<span id="cb89-13"><a href="#cb89-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb89-14"><a href="#cb89-14" aria-hidden="true" tabindex="-1"></a><span class="co"># GrÃ¡fico de densidad en ggplot2</span></span>
<span id="cb89-15"><a href="#cb89-15" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(df, <span class="fu">aes</span>(<span class="at">x =</span> x, <span class="at">fill =</span> grupo)) <span class="sc">+</span></span>
<span id="cb89-16"><a href="#cb89-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density</span>(<span class="at">alpha =</span> <span class="fl">0.7</span>) <span class="sc">+</span> </span>
<span id="cb89-17"><a href="#cb89-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> cols) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="r_cource2_files/figure-html/unnamed-chunk-34-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="pair-ê·¸ë˜í”„" class="level3">
<h3 class="anchored" data-anchor-id="pair-ê·¸ë˜í”„">Pair ê·¸ë˜í”„</h3>
<p>[ì°¸ê³ ìë£Œ]<a href="https://r-charts.com/es/correlacion/ggpairs/" class="uri">https://r-charts.com/es/correlacion/ggpairs/</a></p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb90"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb90-1"><a href="#cb90-1" aria-hidden="true" tabindex="-1"></a><span class="co"># install.packages("GGally")</span></span>
<span id="cb90-2"><a href="#cb90-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(GGally)</span>
<span id="cb90-3"><a href="#cb90-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-4"><a href="#cb90-4" aria-hidden="true" tabindex="-1"></a><span class="fu">ggpairs</span>(iris)  </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="r_cource2_files/figure-html/unnamed-chunk-35-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb91"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb91-1"><a href="#cb91-1" aria-hidden="true" tabindex="-1"></a><span class="co"># install.packages("GGally")</span></span>
<span id="cb91-2"><a href="#cb91-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(GGally)</span>
<span id="cb91-3"><a href="#cb91-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb91-4"><a href="#cb91-4" aria-hidden="true" tabindex="-1"></a><span class="fu">ggpairs</span>(iris, <span class="at">columns =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>, <span class="fu">aes</span>(<span class="at">color =</span> Species, <span class="at">alpha =</span> <span class="fl">0.5</span>),</span>
<span id="cb91-5"><a href="#cb91-5" aria-hidden="true" tabindex="-1"></a>        <span class="at">upper =</span> <span class="fu">list</span>(<span class="at">continuous =</span> <span class="st">"points"</span>)) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="r_cource2_files/figure-html/unnamed-chunk-35-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="sankey-ê·¸ë˜í”„" class="level3">
<h3 class="anchored" data-anchor-id="sankey-ê·¸ë˜í”„">Sankey ê·¸ë˜í”„</h3>
<p>[ì°¸ê³ ìë£Œ]<a href="https://r-charts.com/es/flujo/diagrama-sankey-ggplot2/" class="uri">https://r-charts.com/es/flujo/diagrama-sankey-ggplot2/</a></p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb92"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb92-1"><a href="#cb92-1" aria-hidden="true" tabindex="-1"></a><span class="co"># install.packages("remotes")</span></span>
<span id="cb92-2"><a href="#cb92-2" aria-hidden="true" tabindex="-1"></a><span class="co"># remotes::install_github("davidsjoberg/ggsankey")</span></span>
<span id="cb92-3"><a href="#cb92-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb92-4"><a href="#cb92-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggsankey)</span>
<span id="cb92-5"><a href="#cb92-5" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> mtcars <span class="sc">%&gt;%</span></span>
<span id="cb92-6"><a href="#cb92-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">make_long</span>(cyl, vs, am, gear, carb) </span>
<span id="cb92-7"><a href="#cb92-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb92-8"><a href="#cb92-8" aria-hidden="true" tabindex="-1"></a><span class="co"># install.packages("remotes")</span></span>
<span id="cb92-9"><a href="#cb92-9" aria-hidden="true" tabindex="-1"></a><span class="co"># remotes::install_github("davidsjoberg/ggsankey")</span></span>
<span id="cb92-10"><a href="#cb92-10" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggsankey)</span>
<span id="cb92-11"><a href="#cb92-11" aria-hidden="true" tabindex="-1"></a><span class="co"># install.packages("ggplot2")</span></span>
<span id="cb92-12"><a href="#cb92-12" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb92-13"><a href="#cb92-13" aria-hidden="true" tabindex="-1"></a><span class="co"># install.packages("dplyr")</span></span>
<span id="cb92-14"><a href="#cb92-14" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr) <span class="co"># Necesario</span></span>
<span id="cb92-15"><a href="#cb92-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb92-16"><a href="#cb92-16" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(df, <span class="fu">aes</span>(<span class="at">x =</span> x, </span>
<span id="cb92-17"><a href="#cb92-17" aria-hidden="true" tabindex="-1"></a>               <span class="at">next_x =</span> next_x, </span>
<span id="cb92-18"><a href="#cb92-18" aria-hidden="true" tabindex="-1"></a>               <span class="at">node =</span> node, </span>
<span id="cb92-19"><a href="#cb92-19" aria-hidden="true" tabindex="-1"></a>               <span class="at">next_node =</span> next_node,</span>
<span id="cb92-20"><a href="#cb92-20" aria-hidden="true" tabindex="-1"></a>               <span class="at">fill =</span> <span class="fu">factor</span>(node),</span>
<span id="cb92-21"><a href="#cb92-21" aria-hidden="true" tabindex="-1"></a>               <span class="at">label =</span> node)) <span class="sc">+</span></span>
<span id="cb92-22"><a href="#cb92-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_sankey</span>(<span class="at">flow.alpha =</span> <span class="fl">0.5</span>, <span class="at">node.color =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb92-23"><a href="#cb92-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_sankey_label</span>(<span class="at">size =</span> <span class="fl">3.5</span>, <span class="at">color =</span> <span class="dv">1</span>, <span class="at">fill =</span> <span class="st">"white"</span>) <span class="sc">+</span></span>
<span id="cb92-24"><a href="#cb92-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_viridis_d</span>() <span class="sc">+</span></span>
<span id="cb92-25"><a href="#cb92-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_sankey</span>(<span class="at">base_size =</span> <span class="dv">16</span>) <span class="sc">+</span></span>
<span id="cb92-26"><a href="#cb92-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="r_cource2_files/figure-html/unnamed-chunk-36-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="êµ­íšŒì˜ì›ì˜ì„ìˆ˜-ê·¸ë˜í”„" class="level3">
<h3 class="anchored" data-anchor-id="êµ­íšŒì˜ì›ì˜ì„ìˆ˜-ê·¸ë˜í”„">êµ­íšŒì˜ì›ì˜ì„ìˆ˜ ê·¸ë˜í”„</h3>
<p>[ì°¸ê³ ìë£Œ]<a href="https://r-charts.com/es/parte-todo/ggparliament/" class="uri">https://r-charts.com/es/parte-todo/ggparliament/</a></p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb93"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb93-1"><a href="#cb93-1" aria-hidden="true" tabindex="-1"></a><span class="co"># install.packages("ggparliament")</span></span>
<span id="cb93-2"><a href="#cb93-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggparliament)</span>
<span id="cb93-3"><a href="#cb93-3" aria-hidden="true" tabindex="-1"></a><span class="co"># install.packages("tidyverse")</span></span>
<span id="cb93-4"><a href="#cb93-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb93-5"><a href="#cb93-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Datos</span></span>
<span id="cb93-6"><a href="#cb93-6" aria-hidden="true" tabindex="-1"></a>ru <span class="ot">&lt;-</span> election_data <span class="sc">%&gt;%</span></span>
<span id="cb93-7"><a href="#cb93-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(country <span class="sc">==</span> <span class="st">"Russia"</span> <span class="sc">&amp;</span> year <span class="sc">==</span> <span class="dv">2016</span>)</span>
<span id="cb93-8"><a href="#cb93-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Data frame a ser usado</span></span>
<span id="cb93-9"><a href="#cb93-9" aria-hidden="true" tabindex="-1"></a>ru_semicircle <span class="ot">&lt;-</span> <span class="fu">parliament_data</span>(<span class="at">election_data =</span> ru,</span>
<span id="cb93-10"><a href="#cb93-10" aria-hidden="true" tabindex="-1"></a>                                 <span class="at">type =</span> <span class="st">"semicircle"</span>, <span class="co"># Tipo de parlamento</span></span>
<span id="cb93-11"><a href="#cb93-11" aria-hidden="true" tabindex="-1"></a>                                 <span class="at">parl_rows =</span> <span class="dv">10</span>,      <span class="co"># NÃºmero de filas del parlamento</span></span>
<span id="cb93-12"><a href="#cb93-12" aria-hidden="true" tabindex="-1"></a>                                 <span class="at">party_seats =</span> ru<span class="sc">$</span>seats) <span class="co"># Asientos por partido</span></span>
<span id="cb93-13"><a href="#cb93-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb93-14"><a href="#cb93-14" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(ru_semicircle, <span class="fu">aes</span>(<span class="at">x =</span> x, <span class="at">y =</span> y, <span class="at">colour =</span> party_short)) <span class="sc">+</span></span>
<span id="cb93-15"><a href="#cb93-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_parliament_seats</span>() <span class="sc">+</span> </span>
<span id="cb93-16"><a href="#cb93-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_ggparliament</span>() <span class="sc">+</span></span>
<span id="cb93-17"><a href="#cb93-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Rusia, 2016"</span>) <span class="sc">+</span></span>
<span id="cb93-18"><a href="#cb93-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_colour_manual</span>(<span class="at">values =</span> ru_semicircle<span class="sc">$</span>colour, </span>
<span id="cb93-19"><a href="#cb93-19" aria-hidden="true" tabindex="-1"></a>                      <span class="at">limits =</span> ru_semicircle<span class="sc">$</span>party_short)  </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="r_cource2_files/figure-html/unnamed-chunk-37-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>ëŒ€í•œë¯¼êµ­ 22ëŒ€ êµ­íšŒì˜ì› ì˜ì„ìˆ˜ë¥¼ í‘œì‹œí•˜ì‹œì˜¤ <a href="https://open.assembly.go.kr/portal/assm/assmPartyNegotiationPage.do" class="uri">https://open.assembly.go.kr/portal/assm/assmPartyNegotiationPage.do</a> [color hexacode]<a href="https://htmlcolorcodes.com/" class="uri">https://htmlcolorcodes.com/</a></p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb94"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb94-1"><a href="#cb94-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggparliament)</span>
<span id="cb94-2"><a href="#cb94-2" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> tibble<span class="sc">::</span><span class="fu">tribble</span>(</span>
<span id="cb94-3"><a href="#cb94-3" aria-hidden="true" tabindex="-1"></a>  <span class="sc">~</span>ë²ˆí˜¸,   <span class="sc">~</span>ì „êµ­,       <span class="sc">~</span>ì •ë‹¹,   <span class="sc">~</span>ëª…,</span>
<span id="cb94-4"><a href="#cb94-4" aria-hidden="true" tabindex="-1"></a>   <span class="dv">1</span>L, <span class="st">"ì§€ì—­êµ¬"</span>,  <span class="st">"ë”ë¶ˆì–´ë¯¼ì£¼ë‹¹"</span>, <span class="dv">161</span>L,</span>
<span id="cb94-5"><a href="#cb94-5" aria-hidden="true" tabindex="-1"></a>   <span class="dv">2</span>L, <span class="st">"ì§€ì—­êµ¬"</span>,    <span class="st">"êµ­ë¯¼ì˜í˜"</span>,  <span class="dv">90</span>L,</span>
<span id="cb94-6"><a href="#cb94-6" aria-hidden="true" tabindex="-1"></a>   <span class="dv">3</span>L, <span class="st">"ì§€ì—­êµ¬"</span>,   <span class="st">"ìƒˆë¡œìš´ë¯¸ë˜"</span>,   <span class="dv">1</span>L,</span>
<span id="cb94-7"><a href="#cb94-7" aria-hidden="true" tabindex="-1"></a>   <span class="dv">4</span>L, <span class="st">"ì§€ì—­êµ¬"</span>,    <span class="st">"ê°œí˜ì‹ ë‹¹"</span>,   <span class="dv">1</span>L,</span>
<span id="cb94-8"><a href="#cb94-8" aria-hidden="true" tabindex="-1"></a>   <span class="dv">5</span>L, <span class="st">"ì§€ì—­êµ¬"</span>,     <span class="st">"ì§„ë³´ë‹¹"</span>,   <span class="dv">1</span>L,</span>
<span id="cb94-9"><a href="#cb94-9" aria-hidden="true" tabindex="-1"></a>   <span class="dv">6</span>L,  <span class="st">"ë¹„ë¡€"</span>, <span class="st">"ë”ë¶ˆì–´ë¯¼ì£¼ì—°í•©"</span>,  <span class="dv">14</span>L,</span>
<span id="cb94-10"><a href="#cb94-10" aria-hidden="true" tabindex="-1"></a>   <span class="dv">7</span>L,  <span class="st">"ë¹„ë¡€"</span>,   <span class="st">"êµ­ë¯¼ì˜ë¯¸ë˜"</span>,  <span class="dv">18</span>L,</span>
<span id="cb94-11"><a href="#cb94-11" aria-hidden="true" tabindex="-1"></a>   <span class="dv">8</span>L,  <span class="st">"ë¹„ë¡€"</span>,    <span class="st">"ê°œí˜ì‹ ë‹¹"</span>,   <span class="dv">2</span>L,</span>
<span id="cb94-12"><a href="#cb94-12" aria-hidden="true" tabindex="-1"></a>   <span class="dv">9</span>L,  <span class="st">"ë¹„ë¡€"</span>,   <span class="st">"ì¡°êµ­í˜ì‹ ë‹¹"</span>,  <span class="dv">12</span>L</span>
<span id="cb94-13"><a href="#cb94-13" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb94-14"><a href="#cb94-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">no =</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">2</span>,<span class="dv">9</span>,<span class="dv">6</span>,<span class="dv">7</span>,<span class="dv">8</span>,<span class="dv">5</span>))</span>
<span id="cb94-15"><a href="#cb94-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-16"><a href="#cb94-16" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb94-17"><a href="#cb94-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-18"><a href="#cb94-18" aria-hidden="true" tabindex="-1"></a>df_semicircle <span class="ot">&lt;-</span> <span class="fu">parliament_data</span>(<span class="at">election_data =</span> df,</span>
<span id="cb94-19"><a href="#cb94-19" aria-hidden="true" tabindex="-1"></a>                                 <span class="at">type =</span> <span class="st">"semicircle"</span>, </span>
<span id="cb94-20"><a href="#cb94-20" aria-hidden="true" tabindex="-1"></a>                                 <span class="at">parl_rows =</span> <span class="dv">10</span>,      </span>
<span id="cb94-21"><a href="#cb94-21" aria-hidden="true" tabindex="-1"></a>                                 <span class="at">party_seats =</span> df<span class="sc">$</span>ëª…) </span>
<span id="cb94-22"><a href="#cb94-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-23"><a href="#cb94-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-24"><a href="#cb94-24" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(df_semicircle, <span class="fu">aes</span>(<span class="at">x =</span> x, <span class="at">y =</span> y, <span class="at">colour =</span><span class="fu">fct_reorder</span>(ì •ë‹¹, <span class="sc">-</span>ëª…))) <span class="sc">+</span></span>
<span id="cb94-25"><a href="#cb94-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_parliament_seats</span>() <span class="sc">+</span> </span>
<span id="cb94-26"><a href="#cb94-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_ggparliament</span>() <span class="sc">+</span></span>
<span id="cb94-27"><a href="#cb94-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"South Korea, 2024"</span>) <span class="sc">+</span></span>
<span id="cb94-28"><a href="#cb94-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_colour_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"#0000FF"</span>, <span class="st">"#FF0000"</span>, </span>
<span id="cb94-29"><a href="#cb94-29" aria-hidden="true" tabindex="-1"></a>                                 <span class="st">"#FF0000"</span>, <span class="st">"#0000FF"</span>, </span>
<span id="cb94-30"><a href="#cb94-30" aria-hidden="true" tabindex="-1"></a>                                 <span class="st">"#0073CF"</span>, <span class="st">"#FFB233"</span>, </span>
<span id="cb94-31"><a href="#cb94-31" aria-hidden="true" tabindex="-1"></a>                                 <span class="st">"#33FF42"</span>, <span class="st">"#E333FF"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="r_cource2_files/figure-html/unnamed-chunk-38-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="ê·¸ë˜í”„-ë¶„í• í•˜ê¸°" class="level3">
<h3 class="anchored" data-anchor-id="ê·¸ë˜í”„-ë¶„í• í•˜ê¸°">ê·¸ë˜í”„ ë¶„í• í•˜ê¸°</h3>
<ul>
<li>facet_grid</li>
</ul>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb95"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb95-1"><a href="#cb95-1" aria-hidden="true" tabindex="-1"></a><span class="co">#create data frame</span></span>
<span id="cb95-2"><a href="#cb95-2" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">team=</span><span class="fu">c</span>(<span class="st">'A'</span>, <span class="st">'A'</span>, <span class="st">'A'</span>, <span class="st">'A'</span>, <span class="st">'B'</span>, <span class="st">'B'</span>, <span class="st">'B'</span>, <span class="st">'B'</span>),</span>
<span id="cb95-3"><a href="#cb95-3" aria-hidden="true" tabindex="-1"></a>                 <span class="at">position=</span><span class="fu">c</span>(<span class="st">'G'</span>, <span class="st">'G'</span>, <span class="st">'F'</span>, <span class="st">'F'</span>, <span class="st">'G'</span>, <span class="st">'G'</span>, <span class="st">'G'</span>, <span class="st">'G'</span>),</span>
<span id="cb95-4"><a href="#cb95-4" aria-hidden="true" tabindex="-1"></a>                 <span class="at">points=</span><span class="fu">c</span>(<span class="dv">8</span>, <span class="dv">14</span>, <span class="dv">20</span>, <span class="dv">22</span>, <span class="dv">25</span>, <span class="dv">29</span>, <span class="dv">30</span>, <span class="dv">31</span>),</span>
<span id="cb95-5"><a href="#cb95-5" aria-hidden="true" tabindex="-1"></a>                 <span class="at">assists=</span><span class="fu">c</span>(<span class="dv">10</span>, <span class="dv">5</span>, <span class="dv">5</span>, <span class="dv">3</span>, <span class="dv">8</span>, <span class="dv">6</span>, <span class="dv">9</span>, <span class="dv">12</span>))</span>
<span id="cb95-6"><a href="#cb95-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-7"><a href="#cb95-7" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(df, <span class="fu">aes</span>(assists, points)) <span class="sc">+</span></span>
<span id="cb95-8"><a href="#cb95-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb95-9"><a href="#cb95-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(position<span class="sc">~</span>team)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="r_cource2_files/figure-html/unnamed-chunk-39-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<ul>
<li>facet_warp</li>
</ul>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb96"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb96-1"><a href="#cb96-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(df, <span class="fu">aes</span>(assists, points)) <span class="sc">+</span></span>
<span id="cb96-2"><a href="#cb96-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb96-3"><a href="#cb96-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(position<span class="sc">~</span>team)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="r_cource2_files/figure-html/unnamed-chunk-40-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="patchwork-íŒ¨í‚¤ì§€" class="level3">
<h3 class="anchored" data-anchor-id="patchwork-íŒ¨í‚¤ì§€">Patchwork íŒ¨í‚¤ì§€</h3>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb97"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb97-1"><a href="#cb97-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(patchwork)</span>
<span id="cb97-2"><a href="#cb97-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-3"><a href="#cb97-3" aria-hidden="true" tabindex="-1"></a>p1 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(mtcars) <span class="sc">+</span> <span class="fu">geom_point</span>(<span class="fu">aes</span>(mpg, disp))</span>
<span id="cb97-4"><a href="#cb97-4" aria-hidden="true" tabindex="-1"></a>p2 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(mtcars) <span class="sc">+</span> <span class="fu">geom_boxplot</span>(<span class="fu">aes</span>(gear, disp, <span class="at">group =</span> gear))</span>
<span id="cb97-5"><a href="#cb97-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-6"><a href="#cb97-6" aria-hidden="true" tabindex="-1"></a>p1 <span class="sc">+</span> p2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="r_cource2_files/figure-html/unnamed-chunk-41-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb98"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb98-1"><a href="#cb98-1" aria-hidden="true" tabindex="-1"></a>p3 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(mtcars) <span class="sc">+</span> <span class="fu">geom_smooth</span>(<span class="fu">aes</span>(disp, qsec))</span>
<span id="cb98-2"><a href="#cb98-2" aria-hidden="true" tabindex="-1"></a>p4 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(mtcars) <span class="sc">+</span> <span class="fu">geom_bar</span>(<span class="fu">aes</span>(carb))</span>
<span id="cb98-3"><a href="#cb98-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb98-4"><a href="#cb98-4" aria-hidden="true" tabindex="-1"></a>(p1 <span class="sc">|</span> p2 <span class="sc">|</span> p3) <span class="sc">/</span></span>
<span id="cb98-5"><a href="#cb98-5" aria-hidden="true" tabindex="-1"></a>      p4</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="r_cource2_files/figure-html/unnamed-chunk-42-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="ë…¼ë¬¸ìš©-theme" class="level3">
<h3 class="anchored" data-anchor-id="ë…¼ë¬¸ìš©-theme">ë…¼ë¬¸ìš© Theme</h3>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb99"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb99-1"><a href="#cb99-1" aria-hidden="true" tabindex="-1"></a>theme_Publication <span class="ot">&lt;-</span> <span class="cf">function</span>(<span class="at">base_size=</span><span class="dv">14</span>, <span class="at">base_family=</span><span class="st">"helvetica"</span>) {</span>
<span id="cb99-2"><a href="#cb99-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">library</span>(grid)</span>
<span id="cb99-3"><a href="#cb99-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">library</span>(ggthemes)</span>
<span id="cb99-4"><a href="#cb99-4" aria-hidden="true" tabindex="-1"></a>  (<span class="fu">theme_foundation</span>(<span class="at">base_size=</span>base_size, <span class="at">base_family=</span>base_family)</span>
<span id="cb99-5"><a href="#cb99-5" aria-hidden="true" tabindex="-1"></a>    <span class="sc">+</span> <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>,</span>
<span id="cb99-6"><a href="#cb99-6" aria-hidden="true" tabindex="-1"></a>                                      <span class="at">size =</span> <span class="fu">rel</span>(<span class="fl">1.2</span>), <span class="at">hjust =</span> <span class="fl">0.5</span>),</span>
<span id="cb99-7"><a href="#cb99-7" aria-hidden="true" tabindex="-1"></a>            <span class="at">text =</span> <span class="fu">element_text</span>(),</span>
<span id="cb99-8"><a href="#cb99-8" aria-hidden="true" tabindex="-1"></a>            <span class="at">panel.background =</span> <span class="fu">element_rect</span>(<span class="at">colour =</span> <span class="cn">NA</span>),</span>
<span id="cb99-9"><a href="#cb99-9" aria-hidden="true" tabindex="-1"></a>            <span class="at">plot.background =</span> <span class="fu">element_rect</span>(<span class="at">colour =</span> <span class="cn">NA</span>),</span>
<span id="cb99-10"><a href="#cb99-10" aria-hidden="true" tabindex="-1"></a>            <span class="at">panel.border =</span> <span class="fu">element_rect</span>(<span class="at">colour =</span> <span class="cn">NA</span>),</span>
<span id="cb99-11"><a href="#cb99-11" aria-hidden="true" tabindex="-1"></a>            <span class="at">axis.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>,<span class="at">size =</span> <span class="fu">rel</span>(<span class="dv">1</span>)),</span>
<span id="cb99-12"><a href="#cb99-12" aria-hidden="true" tabindex="-1"></a>            <span class="at">axis.title.y =</span> <span class="fu">element_text</span>(<span class="at">angle=</span><span class="dv">90</span>,<span class="at">vjust =</span><span class="dv">2</span>),</span>
<span id="cb99-13"><a href="#cb99-13" aria-hidden="true" tabindex="-1"></a>            <span class="at">axis.title.x =</span> <span class="fu">element_text</span>(<span class="at">vjust =</span> <span class="sc">-</span><span class="fl">0.2</span>),</span>
<span id="cb99-14"><a href="#cb99-14" aria-hidden="true" tabindex="-1"></a>            <span class="at">axis.text =</span> <span class="fu">element_text</span>(), </span>
<span id="cb99-15"><a href="#cb99-15" aria-hidden="true" tabindex="-1"></a>            <span class="at">axis.line =</span> <span class="fu">element_line</span>(<span class="at">colour=</span><span class="st">"black"</span>),</span>
<span id="cb99-16"><a href="#cb99-16" aria-hidden="true" tabindex="-1"></a>            <span class="at">axis.ticks =</span> <span class="fu">element_line</span>(),</span>
<span id="cb99-17"><a href="#cb99-17" aria-hidden="true" tabindex="-1"></a>            <span class="at">panel.grid.major =</span> <span class="fu">element_line</span>(<span class="at">colour=</span><span class="st">"#f0f0f0"</span>),</span>
<span id="cb99-18"><a href="#cb99-18" aria-hidden="true" tabindex="-1"></a>            <span class="at">panel.grid.minor =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb99-19"><a href="#cb99-19" aria-hidden="true" tabindex="-1"></a>            <span class="at">legend.key =</span> <span class="fu">element_rect</span>(<span class="at">colour =</span> <span class="cn">NA</span>),</span>
<span id="cb99-20"><a href="#cb99-20" aria-hidden="true" tabindex="-1"></a>            <span class="at">legend.position =</span> <span class="st">"bottom"</span>,</span>
<span id="cb99-21"><a href="#cb99-21" aria-hidden="true" tabindex="-1"></a>            <span class="at">legend.direction =</span> <span class="st">"horizontal"</span>,</span>
<span id="cb99-22"><a href="#cb99-22" aria-hidden="true" tabindex="-1"></a>            <span class="at">legend.key.size=</span> <span class="fu">unit</span>(<span class="fl">0.2</span>, <span class="st">"cm"</span>),</span>
<span id="cb99-23"><a href="#cb99-23" aria-hidden="true" tabindex="-1"></a>            <span class="at">legend.margin =</span> <span class="fu">unit</span>(<span class="dv">0</span>, <span class="st">"cm"</span>),</span>
<span id="cb99-24"><a href="#cb99-24" aria-hidden="true" tabindex="-1"></a>            <span class="at">legend.title =</span> <span class="fu">element_text</span>(<span class="at">face=</span><span class="st">"italic"</span>),</span>
<span id="cb99-25"><a href="#cb99-25" aria-hidden="true" tabindex="-1"></a>            <span class="at">plot.margin=</span><span class="fu">unit</span>(<span class="fu">c</span>(<span class="dv">10</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">5</span>),<span class="st">"mm"</span>),</span>
<span id="cb99-26"><a href="#cb99-26" aria-hidden="true" tabindex="-1"></a>            <span class="at">strip.background=</span><span class="fu">element_rect</span>(<span class="at">colour=</span><span class="st">"#f0f0f0"</span>,<span class="at">fill=</span><span class="st">"#f0f0f0"</span>),</span>
<span id="cb99-27"><a href="#cb99-27" aria-hidden="true" tabindex="-1"></a>            <span class="at">strip.text =</span> <span class="fu">element_text</span>(<span class="at">face=</span><span class="st">"bold"</span>)</span>
<span id="cb99-28"><a href="#cb99-28" aria-hidden="true" tabindex="-1"></a>    ))</span>
<span id="cb99-29"><a href="#cb99-29" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb99-30"><a href="#cb99-30" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb99-31"><a href="#cb99-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb99-32"><a href="#cb99-32" aria-hidden="true" tabindex="-1"></a>scale_fill_Publication <span class="ot">&lt;-</span> <span class="cf">function</span>(...){</span>
<span id="cb99-33"><a href="#cb99-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">library</span>(scales)</span>
<span id="cb99-34"><a href="#cb99-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">discrete_scale</span>(<span class="st">"fill"</span>,<span class="st">"Publication"</span>,<span class="fu">manual_pal</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"#386cb0"</span>,<span class="st">"#fdb462"</span>,<span class="st">"#7fc97f"</span>,<span class="st">"#ef3b2c"</span>,<span class="st">"#662506"</span>,<span class="st">"#a6cee3"</span>,<span class="st">"#fb9a99"</span>,<span class="st">"#984ea3"</span>,<span class="st">"#ffff33"</span>)), ...)</span>
<span id="cb99-35"><a href="#cb99-35" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb99-36"><a href="#cb99-36" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb99-37"><a href="#cb99-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb99-38"><a href="#cb99-38" aria-hidden="true" tabindex="-1"></a>scale_colour_Publication <span class="ot">&lt;-</span> <span class="cf">function</span>(...){</span>
<span id="cb99-39"><a href="#cb99-39" aria-hidden="true" tabindex="-1"></a>  <span class="fu">library</span>(scales)</span>
<span id="cb99-40"><a href="#cb99-40" aria-hidden="true" tabindex="-1"></a>  <span class="fu">discrete_scale</span>(<span class="st">"colour"</span>,<span class="st">"Publication"</span>,<span class="fu">manual_pal</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"#386cb0"</span>,<span class="st">"#fdb462"</span>,<span class="st">"#7fc97f"</span>,<span class="st">"#ef3b2c"</span>,<span class="st">"#662506"</span>,<span class="st">"#a6cee3"</span>,<span class="st">"#fb9a99"</span>,<span class="st">"#984ea3"</span>,<span class="st">"#ffff33"</span>)), ...)</span>
<span id="cb99-41"><a href="#cb99-41" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb99-42"><a href="#cb99-42" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="plotly-ê·¸ë˜í”„" class="level3">
<h3 class="anchored" data-anchor-id="plotly-ê·¸ë˜í”„">Plotly ê·¸ë˜í”„</h3>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb100"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb100-1"><a href="#cb100-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb100-2"><a href="#cb100-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggrepel)</span>
<span id="cb100-3"><a href="#cb100-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb100-4"><a href="#cb100-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-5"><a href="#cb100-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-6"><a href="#cb100-6" aria-hidden="true" tabindex="-1"></a>temp.dat <span class="ot">&lt;-</span> <span class="fu">structure</span>(<span class="fu">list</span>(<span class="at">Year =</span> <span class="fu">c</span>(<span class="st">"2003"</span>, <span class="st">"2004"</span>, <span class="st">"2005"</span>, <span class="st">"2006"</span>, <span class="st">"2007"</span>, </span>
<span id="cb100-7"><a href="#cb100-7" aria-hidden="true" tabindex="-1"></a>                                    <span class="st">"2008"</span>, <span class="st">"2009"</span>, <span class="st">"2010"</span>, <span class="st">"2011"</span>, <span class="st">"2012"</span>, <span class="st">"2013"</span>, <span class="st">"2014"</span>, <span class="st">"2003"</span>, </span>
<span id="cb100-8"><a href="#cb100-8" aria-hidden="true" tabindex="-1"></a>                                    <span class="st">"2004"</span>, <span class="st">"2005"</span>, <span class="st">"2006"</span>, <span class="st">"2007"</span>, <span class="st">"2008"</span>, <span class="st">"2009"</span>, <span class="st">"2010"</span>, <span class="st">"2011"</span>, </span>
<span id="cb100-9"><a href="#cb100-9" aria-hidden="true" tabindex="-1"></a>                                    <span class="st">"2012"</span>, <span class="st">"2013"</span>, <span class="st">"2014"</span>, <span class="st">"2003"</span>, <span class="st">"2004"</span>, <span class="st">"2005"</span>, <span class="st">"2006"</span>, <span class="st">"2007"</span>, </span>
<span id="cb100-10"><a href="#cb100-10" aria-hidden="true" tabindex="-1"></a>                                    <span class="st">"2008"</span>, <span class="st">"2009"</span>, <span class="st">"2010"</span>, <span class="st">"2011"</span>, <span class="st">"2012"</span>, <span class="st">"2013"</span>, <span class="st">"2014"</span>, <span class="st">"2003"</span>, </span>
<span id="cb100-11"><a href="#cb100-11" aria-hidden="true" tabindex="-1"></a>                                    <span class="st">"2004"</span>, <span class="st">"2005"</span>, <span class="st">"2006"</span>, <span class="st">"2007"</span>, <span class="st">"2008"</span>, <span class="st">"2009"</span>, <span class="st">"2010"</span>, <span class="st">"2011"</span>, </span>
<span id="cb100-12"><a href="#cb100-12" aria-hidden="true" tabindex="-1"></a>                                    <span class="st">"2012"</span>, <span class="st">"2013"</span>, <span class="st">"2014"</span>), <span class="at">State =</span> <span class="fu">structure</span>(<span class="fu">c</span>(<span class="dv">1</span>L, <span class="dv">1</span>L, <span class="dv">1</span>L, <span class="dv">1</span>L, </span>
<span id="cb100-13"><a href="#cb100-13" aria-hidden="true" tabindex="-1"></a>                                                                                 <span class="dv">1</span>L, <span class="dv">1</span>L, <span class="dv">1</span>L, <span class="dv">1</span>L, <span class="dv">1</span>L, <span class="dv">1</span>L, <span class="dv">1</span>L, <span class="dv">1</span>L, <span class="dv">2</span>L, <span class="dv">2</span>L, <span class="dv">2</span>L, <span class="dv">2</span>L, <span class="dv">2</span>L, <span class="dv">2</span>L, <span class="dv">2</span>L, <span class="dv">2</span>L, </span>
<span id="cb100-14"><a href="#cb100-14" aria-hidden="true" tabindex="-1"></a>                                                                                 <span class="dv">2</span>L, <span class="dv">2</span>L, <span class="dv">2</span>L, <span class="dv">2</span>L, <span class="dv">3</span>L, <span class="dv">3</span>L, <span class="dv">3</span>L, <span class="dv">3</span>L, <span class="dv">3</span>L, <span class="dv">3</span>L, <span class="dv">3</span>L, <span class="dv">3</span>L, <span class="dv">3</span>L, <span class="dv">3</span>L, <span class="dv">3</span>L, <span class="dv">3</span>L, </span>
<span id="cb100-15"><a href="#cb100-15" aria-hidden="true" tabindex="-1"></a>                                                                                 <span class="dv">4</span>L, <span class="dv">4</span>L, <span class="dv">4</span>L, <span class="dv">4</span>L, <span class="dv">4</span>L, <span class="dv">4</span>L, <span class="dv">4</span>L, <span class="dv">4</span>L, <span class="dv">4</span>L, <span class="dv">4</span>L, <span class="dv">4</span>L, <span class="dv">4</span>L), <span class="at">.Label =</span> <span class="fu">c</span>(<span class="st">"VIC"</span>, </span>
<span id="cb100-16"><a href="#cb100-16" aria-hidden="true" tabindex="-1"></a>                                                                                                                                             <span class="st">"NSW"</span>, <span class="st">"QLD"</span>, <span class="st">"WA"</span>), <span class="at">class =</span> <span class="st">"factor"</span>), <span class="at">Capex =</span> <span class="fu">c</span>(<span class="fl">5.35641472365348</span>, </span>
<span id="cb100-17"><a href="#cb100-17" aria-hidden="true" tabindex="-1"></a>                                                                                                                                                                                               <span class="fl">5.76523240652641</span>, <span class="fl">5.24727577535625</span>, <span class="fl">5.57988239709746</span>, <span class="fl">5.14246402568366</span>, </span>
<span id="cb100-18"><a href="#cb100-18" aria-hidden="true" tabindex="-1"></a>                                                                                                                                                                                               <span class="fl">4.96786288162828</span>, <span class="fl">5.493190785287</span>, <span class="fl">6.08500616799372</span>, <span class="fl">6.5092228474591</span>, </span>
<span id="cb100-19"><a href="#cb100-19" aria-hidden="true" tabindex="-1"></a>                                                                                                                                                                                               <span class="fl">7.03813541623157</span>, <span class="fl">8.34736513875897</span>, <span class="fl">9.04992300432169</span>, <span class="fl">7.15830329914056</span>, </span>
<span id="cb100-20"><a href="#cb100-20" aria-hidden="true" tabindex="-1"></a>                                                                                                                                                                                               <span class="fl">7.21247045701994</span>, <span class="fl">7.81373928617117</span>, <span class="fl">7.76610217197542</span>, <span class="fl">7.9744994967006</span>, </span>
<span id="cb100-21"><a href="#cb100-21" aria-hidden="true" tabindex="-1"></a>                                                                                                                                                                                               <span class="fl">7.93734452080786</span>, <span class="fl">8.29289899132255</span>, <span class="fl">7.85222269563982</span>, <span class="fl">8.12683746325074</span>, </span>
<span id="cb100-22"><a href="#cb100-22" aria-hidden="true" tabindex="-1"></a>                                                                                                                                                                                               <span class="fl">8.61903784301649</span>, <span class="fl">9.7904327253813</span>, <span class="fl">9.75021175267288</span>, <span class="fl">8.2950673974226</span>, </span>
<span id="cb100-23"><a href="#cb100-23" aria-hidden="true" tabindex="-1"></a>                                                                                                                                                                                               <span class="fl">6.6272705639724</span>, <span class="fl">6.50170524635367</span>, <span class="fl">6.15609626379471</span>, <span class="fl">6.43799637295979</span>, </span>
<span id="cb100-24"><a href="#cb100-24" aria-hidden="true" tabindex="-1"></a>                                                                                                                                                                                               <span class="fl">6.9869551384028</span>, <span class="fl">8.36305663640294</span>, <span class="fl">8.31382617231745</span>, <span class="fl">8.65409824343971</span>, </span>
<span id="cb100-25"><a href="#cb100-25" aria-hidden="true" tabindex="-1"></a>                                                                                                                                                                                               <span class="fl">9.70529678167458</span>, <span class="fl">11.3102788081848</span>, <span class="fl">11.8696420977237</span>, <span class="fl">6.77937303542605</span>, </span>
<span id="cb100-26"><a href="#cb100-26" aria-hidden="true" tabindex="-1"></a>                                                                                                                                                                                               <span class="fl">5.51242844820827</span>, <span class="fl">5.35789621712839</span>, <span class="fl">4.38699327451101</span>, <span class="fl">4.4925792218211</span>, </span>
<span id="cb100-27"><a href="#cb100-27" aria-hidden="true" tabindex="-1"></a>                                                                                                                                                                                               <span class="fl">4.29934654081527</span>, <span class="fl">4.54639175257732</span>, <span class="fl">4.70040615159951</span>, <span class="fl">5.04056109514957</span>, </span>
<span id="cb100-28"><a href="#cb100-28" aria-hidden="true" tabindex="-1"></a>                                                                                                                                                                                               <span class="fl">5.49921208937735</span>, <span class="fl">5.96590909090909</span>, <span class="fl">6.18700407463007</span>)), <span class="at">class =</span> <span class="st">"data.frame"</span>, <span class="at">row.names =</span> <span class="fu">c</span>(<span class="cn">NA</span>, </span>
<span id="cb100-29"><a href="#cb100-29" aria-hidden="true" tabindex="-1"></a>                                                                                                                                                                                                                                                                                           <span class="sc">-</span><span class="dv">48</span>L), <span class="at">.Names =</span> <span class="fu">c</span>(<span class="st">"Year"</span>, <span class="st">"State"</span>, <span class="st">"Capex"</span>))</span>
<span id="cb100-30"><a href="#cb100-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-31"><a href="#cb100-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-32"><a href="#cb100-32" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(temp.dat)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>  Year State    Capex
1 2003   VIC 5.356415
2 2004   VIC 5.765232
3 2005   VIC 5.247276
4 2006   VIC 5.579882
5 2007   VIC 5.142464
6 2008   VIC 4.967863</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb102"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb102-1"><a href="#cb102-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb102-2"><a href="#cb102-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggrepel)</span>
<span id="cb102-3"><a href="#cb102-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb102-4"><a href="#cb102-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb102-5"><a href="#cb102-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb102-6"><a href="#cb102-6" aria-hidden="true" tabindex="-1"></a>p <span class="ot">&lt;-</span> temp.dat <span class="sc">%&gt;%</span></span>
<span id="cb102-7"><a href="#cb102-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">label =</span> <span class="fu">if_else</span>(Year <span class="sc">==</span> <span class="fu">max</span>(Year), <span class="fu">as.character</span>(State), <span class="cn">NA_character_</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb102-8"><a href="#cb102-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> Year, <span class="at">y =</span> Capex, <span class="at">group =</span> State, <span class="at">colour =</span> State, <span class="at">shape=</span>State)) <span class="sc">+</span> </span>
<span id="cb102-9"><a href="#cb102-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span> <span class="fu">geom_point</span>()<span class="sc">+</span></span>
<span id="cb102-10"><a href="#cb102-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_label_repel</span>(<span class="fu">aes</span>(<span class="at">label =</span> label),</span>
<span id="cb102-11"><a href="#cb102-11" aria-hidden="true" tabindex="-1"></a>                   <span class="at">nudge_x =</span> <span class="dv">1</span>,</span>
<span id="cb102-12"><a href="#cb102-12" aria-hidden="true" tabindex="-1"></a>                   <span class="at">na.rm =</span> <span class="cn">TRUE</span>)<span class="sc">+</span></span>
<span id="cb102-13"><a href="#cb102-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_colour_Publication</span>()<span class="sc">+</span> <span class="fu">theme_Publication</span>()<span class="sc">+</span></span>
<span id="cb102-14"><a href="#cb102-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>)</span>
<span id="cb102-15"><a href="#cb102-15" aria-hidden="true" tabindex="-1"></a>p</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="r_cource2_files/figure-html/unnamed-chunk-44-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb103"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb103-1"><a href="#cb103-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(plotly)</span>
<span id="cb103-2"><a href="#cb103-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplotly</span>(p)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-bf7db68d5a666666ef75" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-bf7db68d5a666666ef75">{"x":{"data":[{"x":[1,2,3,4,5,6,7,8,9,10,11,12],"y":[5.3564147236534803,5.76523240652641,5.2472757753562496,5.5798823970974603,5.14246402568366,4.9678628816282799,5.4931907852870001,6.0850061679937202,6.5092228474590996,7.0381354162315697,8.3473651387589705,9.0499230043216894],"text":["Year: 2003<br />Capex:  5.356415<br />State: VIC<br />State: VIC<br />State: VIC","Year: 2004<br />Capex:  5.765232<br />State: VIC<br />State: VIC<br />State: VIC","Year: 2005<br />Capex:  5.247276<br />State: VIC<br />State: VIC<br />State: VIC","Year: 2006<br />Capex:  5.579882<br />State: VIC<br />State: VIC<br />State: VIC","Year: 2007<br />Capex:  5.142464<br />State: VIC<br />State: VIC<br />State: VIC","Year: 2008<br />Capex:  4.967863<br />State: VIC<br />State: VIC<br />State: VIC","Year: 2009<br />Capex:  5.493191<br />State: VIC<br />State: VIC<br />State: VIC","Year: 2010<br />Capex:  6.085006<br />State: VIC<br />State: VIC<br />State: VIC","Year: 2011<br />Capex:  6.509223<br />State: VIC<br />State: VIC<br />State: VIC","Year: 2012<br />Capex:  7.038135<br />State: VIC<br />State: VIC<br />State: VIC","Year: 2013<br />Capex:  8.347365<br />State: VIC<br />State: VIC<br />State: VIC","Year: 2014<br />Capex:  9.049923<br />State: VIC<br />State: VIC<br />State: VIC"],"type":"scatter","mode":"lines+markers","line":{"width":1.8897637795275593,"color":"rgba(56,108,176,1)","dash":"solid"},"hoveron":"points","name":"VIC","legendgroup":"VIC","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","marker":{"autocolorscale":false,"color":"rgba(56,108,176,1)","opacity":1,"size":5.6692913385826778,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(56,108,176,1)"}},"frame":null},{"x":[1,2,3,4,5,6,7,8,9,10,11,12],"y":[7.1583032991405604,7.2124704570199398,7.8137392861711703,7.7661021719754197,7.9744994967006004,7.9373445208078603,8.2928989913225504,7.8522226956398198,8.1268374632507392,8.6190378430164891,9.7904327253813008,9.7502117526728806],"text":["Year: 2003<br />Capex:  7.158303<br />State: NSW<br />State: NSW<br />State: NSW","Year: 2004<br />Capex:  7.212470<br />State: NSW<br />State: NSW<br />State: NSW","Year: 2005<br />Capex:  7.813739<br />State: NSW<br />State: NSW<br />State: NSW","Year: 2006<br />Capex:  7.766102<br />State: NSW<br />State: NSW<br />State: NSW","Year: 2007<br />Capex:  7.974499<br />State: NSW<br />State: NSW<br />State: NSW","Year: 2008<br />Capex:  7.937345<br />State: NSW<br />State: NSW<br />State: NSW","Year: 2009<br />Capex:  8.292899<br />State: NSW<br />State: NSW<br />State: NSW","Year: 2010<br />Capex:  7.852223<br />State: NSW<br />State: NSW<br />State: NSW","Year: 2011<br />Capex:  8.126837<br />State: NSW<br />State: NSW<br />State: NSW","Year: 2012<br />Capex:  8.619038<br />State: NSW<br />State: NSW<br />State: NSW","Year: 2013<br />Capex:  9.790433<br />State: NSW<br />State: NSW<br />State: NSW","Year: 2014<br />Capex:  9.750212<br />State: NSW<br />State: NSW<br />State: NSW"],"type":"scatter","mode":"lines+markers","line":{"width":1.8897637795275593,"color":"rgba(253,180,98,1)","dash":"solid"},"hoveron":"points","name":"NSW","legendgroup":"NSW","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","marker":{"autocolorscale":false,"color":"rgba(253,180,98,1)","opacity":1,"size":5.6692913385826778,"symbol":"triangle-up","line":{"width":1.8897637795275593,"color":"rgba(253,180,98,1)"}},"frame":null},{"x":[1,2,3,4,5,6,7,8,9,10,11,12],"y":[8.2950673974225992,6.6272705639723997,6.5017052463536702,6.1560962637947103,6.4379963729597902,6.9869551384028004,8.3630566364029395,8.3138261723174498,8.6540982434397105,9.7052967816745799,11.310278808184799,11.8696420977237],"text":["Year: 2003<br />Capex:  8.295067<br />State: QLD<br />State: QLD<br />State: QLD","Year: 2004<br />Capex:  6.627271<br />State: QLD<br />State: QLD<br />State: QLD","Year: 2005<br />Capex:  6.501705<br />State: QLD<br />State: QLD<br />State: QLD","Year: 2006<br />Capex:  6.156096<br />State: QLD<br />State: QLD<br />State: QLD","Year: 2007<br />Capex:  6.437996<br />State: QLD<br />State: QLD<br />State: QLD","Year: 2008<br />Capex:  6.986955<br />State: QLD<br />State: QLD<br />State: QLD","Year: 2009<br />Capex:  8.363057<br />State: QLD<br />State: QLD<br />State: QLD","Year: 2010<br />Capex:  8.313826<br />State: QLD<br />State: QLD<br />State: QLD","Year: 2011<br />Capex:  8.654098<br />State: QLD<br />State: QLD<br />State: QLD","Year: 2012<br />Capex:  9.705297<br />State: QLD<br />State: QLD<br />State: QLD","Year: 2013<br />Capex: 11.310279<br />State: QLD<br />State: QLD<br />State: QLD","Year: 2014<br />Capex: 11.869642<br />State: QLD<br />State: QLD<br />State: QLD"],"type":"scatter","mode":"lines+markers","line":{"width":1.8897637795275593,"color":"rgba(127,201,127,1)","dash":"solid"},"hoveron":"points","name":"QLD","legendgroup":"QLD","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","marker":{"autocolorscale":false,"color":"rgba(127,201,127,1)","opacity":1,"size":5.6692913385826778,"symbol":"square","line":{"width":1.8897637795275593,"color":"rgba(127,201,127,1)"}},"frame":null},{"x":[1,2,3,4,5,6,7,8,9,10,11,12],"y":[6.7793730354260502,5.5124284482082704,5.3578962171283901,4.3869932745110098,4.4925792218211003,4.2993465408152698,4.5463917525773203,4.7004061515995099,5.0405610951495703,5.49921208937735,5.9659090909090899,6.1870040746300701],"text":["Year: 2003<br />Capex:  6.779373<br />State: WA<br />State: WA<br />State: WA","Year: 2004<br />Capex:  5.512428<br />State: WA<br />State: WA<br />State: WA","Year: 2005<br />Capex:  5.357896<br />State: WA<br />State: WA<br />State: WA","Year: 2006<br />Capex:  4.386993<br />State: WA<br />State: WA<br />State: WA","Year: 2007<br />Capex:  4.492579<br />State: WA<br />State: WA<br />State: WA","Year: 2008<br />Capex:  4.299347<br />State: WA<br />State: WA<br />State: WA","Year: 2009<br />Capex:  4.546392<br />State: WA<br />State: WA<br />State: WA","Year: 2010<br />Capex:  4.700406<br />State: WA<br />State: WA<br />State: WA","Year: 2011<br />Capex:  5.040561<br />State: WA<br />State: WA<br />State: WA","Year: 2012<br />Capex:  5.499212<br />State: WA<br />State: WA<br />State: WA","Year: 2013<br />Capex:  5.965909<br />State: WA<br />State: WA<br />State: WA","Year: 2014<br />Capex:  6.187004<br />State: WA<br />State: WA<br />State: WA"],"type":"scatter","mode":"lines+markers","line":{"width":1.8897637795275593,"color":"rgba(239,59,44,1)","dash":"solid"},"hoveron":"points","name":"WA","legendgroup":"WA","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","marker":{"autocolorscale":false,"color":"rgba(239,59,44,1)","opacity":1,"size":5.6692913385826778,"symbol":"cross-thin-open","line":{"width":1.8897637795275593,"color":"rgba(239,59,44,1)"}},"frame":null},{"name":"VIC","legendgroup":"VIC","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","mode":"","frame":null},{"name":"NSW","legendgroup":"NSW","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","mode":"","frame":null},{"name":"QLD","legendgroup":"QLD","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","mode":"","frame":null},{"name":"WA","legendgroup":"WA","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","mode":"","frame":null}],"layout":{"margin":{"t":53.795275590551171,"r":18.897637795275585,"b":57.021340576512614,"l":57.021340576512614},"plot_bgcolor":"rgba(255,255,255,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"helvetica","size":18.596928185969279},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[0.40000000000000002,13],"tickmode":"array","ticktext":["2003","2004","2005","2006","2007","2008","2009","2010","2011","2012","2013","2014"],"tickvals":[1,2.0000000000000004,3,4.0000000000000009,5,6,7.0000000000000009,8,9,10,11,12],"categoryorder":"array","categoryarray":["2003","2004","2005","2006","2007","2008","2009","2010","2011","2012","2013","2014"],"nticks":null,"ticks":"outside","tickcolor":"rgba(0,0,0,1)","ticklen":4.6492320464923198,"tickwidth":0.8453149175440583,"showticklabels":true,"tickfont":{"color":"rgba(0,0,0,1)","family":"helvetica","size":14.877542548775427},"tickangle":-0,"showline":true,"linecolor":"rgba(0,0,0,1)","linewidth":0.8453149175440583,"showgrid":true,"gridcolor":"rgba(240,240,240,1)","gridwidth":0.8453149175440583,"zeroline":false,"anchor":"y","title":{"text":"<b> Year <\/b>","font":{"color":"rgba(0,0,0,1)","family":"helvetica","size":18.596928185969279}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[3.9208317629698484,12.248156875569121],"tickmode":"array","ticktext":["4","6","8","10","12"],"tickvals":[4,6,8,10,12],"categoryorder":"array","categoryarray":["4","6","8","10","12"],"nticks":null,"ticks":"outside","tickcolor":"rgba(0,0,0,1)","ticklen":4.6492320464923198,"tickwidth":0.8453149175440583,"showticklabels":true,"tickfont":{"color":"rgba(0,0,0,1)","family":"helvetica","size":14.87754254877543},"tickangle":-0,"showline":true,"linecolor":"rgba(0,0,0,1)","linewidth":0.8453149175440583,"showgrid":true,"gridcolor":"rgba(240,240,240,1)","gridwidth":0.8453149175440583,"zeroline":false,"anchor":"x","title":{"text":"<b> Capex <\/b>","font":{"color":"rgba(0,0,0,1)","family":"helvetica","size":18.596928185969279}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":"transparent","line":{"color":"transparent","width":0.8453149175440583,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":false,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":2.405153901216893,"font":{"color":"rgba(0,0,0,1)","family":"helvetica","size":14.877542548775427}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"2c7c17ae52ca":{"x":{},"y":{},"colour":{},"shape":{},"type":"scatter"},"2c7c6a11711e":{"x":{},"y":{},"colour":{},"shape":{}},"2c7c413f7d2f":{"x":{},"y":{},"colour":{},"shape":{},"label":{}}},"cur_data":"2c7c17ae52ca","visdat":{"2c7c17ae52ca":["function (y) ","x"],"2c7c6a11711e":["function (y) ","x"],"2c7c413f7d2f":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="ê·¸ë˜í”„-ì €ì¥" class="level3">
<h3 class="anchored" data-anchor-id="ê·¸ë˜í”„-ì €ì¥">ê·¸ë˜í”„ ì €ì¥</h3>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb104"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb104-1"><a href="#cb104-1" aria-hidden="true" tabindex="-1"></a>p</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="r_cource2_files/figure-html/unnamed-chunk-45-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb105"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb105-1"><a href="#cb105-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsave</span>(<span class="st">"myplot.png"</span>)</span>
<span id="cb105-2"><a href="#cb105-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-3"><a href="#cb105-3" aria-hidden="true" tabindex="-1"></a>p2 <span class="ot">&lt;-</span> <span class="fu">ggplotly</span>(p)</span>
<span id="cb105-4"><a href="#cb105-4" aria-hidden="true" tabindex="-1"></a>htmlwidgets<span class="sc">::</span><span class="fu">saveWidget</span>(p2, <span class="st">"myplot.html"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="ì‹œê°í™”-ì—°ìŠµ-ë¬¸ì œ" class="level3">
<h3 class="anchored" data-anchor-id="ì‹œê°í™”-ì—°ìŠµ-ë¬¸ì œ">ì‹œê°í™” ì—°ìŠµ ë¬¸ì œ</h3>
<p>ì•„ë˜ ì‚¬ì´íŠ¸ì—ì„œ í¬í†  ì½”íŒ…/ë…¸ê´‘/í˜„ìƒ ì‹œê°„ì— ë”°ë¥¸ 2ì¢…ì˜ PR ì˜ CDë¥¼ ë¶„ì„í•˜ë¼.</p>
<p>[Kaggle site]<a href="https://www.kaggle.com/datasets/waterfirst/photolithography-process-data" class="uri">https://www.kaggle.com/datasets/waterfirst/photolithography-process-data</a></p>
</section>
</section>
<section id="ë¨¸ì‹ ëŸ¬ë‹" class="level2">
<h2 class="anchored" data-anchor-id="ë¨¸ì‹ ëŸ¬ë‹">ë¨¸ì‹ ëŸ¬ë‹</h2>
<section id="íšŒê·€regression-í­ê·„ë¶€ë¦¬-ë†’ì´" class="level3">
<h3 class="anchored" data-anchor-id="íšŒê·€regression-í­ê·„ë¶€ë¦¬-ë†’ì´">íšŒê·€(regression) : í­ê·„ë¶€ë¦¬ ë†’ì´</h3>
<pre><code>1. penquin ë°ì´í„°ì˜ í–‰ë²ˆí˜¸ë¥¼ id ì—´ë¡œ ë§Œë“¤ì–´ë¼ (mutate)  

2. penquin ë°ì´í„°ì˜ 1í–‰~300í–‰ê¹Œì§€ ë°ì´í„°ë¥¼ trainìœ¼ë¡œ ë§Œë“¤ê³ , bill_depth ì—´ì„ ì œì™¸í•˜ê³  X_train, idì™€ bill_depth ì—´ì„ ì´ìš©í•˜ì—¬ y_trainì„ ë§Œë“¤ì–´ë¼  

3. penquin ë°ì´í„°ì˜ 300í–‰~ë§ˆì§€ë§‰í–‰ê¹Œì§€  ë°ì´í„°ë¥¼ test ë¡œ ë§Œë“¤ê³ , bill_depth ì—´ì„ ì œì™¸í•˜ê³  y_train, idì™€ bill_depth ì—´ì„ ì´ìš©í•˜ì—¬ y_testì„ ë§Œë“¤ì–´ë¼.     

4. X_train, y_train ìœ¼ë¡œ ëª¨ë¸ë§ì„ í•œ í›„, X_testë¥¼ ì´ìš©í•˜ì—¬ y_testì˜ bill_depthë¥¼ ì˜ˆì¸¡í•˜ë¼.

5. ì˜ˆì¸¡í•œ ê°’ì„ "ìˆ˜í—˜ë²ˆí˜¸.csv" íŒŒì¼ë¡œ ì œì¶œí•˜ë¼.</code></pre>
<ul>
<li>íŒ¨í‚¤ì§€ ë¶ˆëŸ¬ì˜¤ê¸°</li>
</ul>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb107"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb107-1"><a href="#cb107-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb107-2"><a href="#cb107-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(caret)</span>
<span id="cb107-3"><a href="#cb107-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ModelMetrics)</span>
<span id="cb107-4"><a href="#cb107-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(randomForest)</span>
<span id="cb107-5"><a href="#cb107-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(palmerpenguins)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<ul>
<li>ë°ì´í„° ë¶ˆëŸ¬ì˜¤ê¸°</li>
</ul>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb108"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb108-1"><a href="#cb108-1" aria-hidden="true" tabindex="-1"></a><span class="do">## ë°ì´í„° ë¶ˆëŸ¬ì˜¤ê¸° (ì‹¤ì œ ì‹œí—˜ì¥ì—ì„œëŠ” ì•„ë˜ì™€ ê°™ì´ ê°„ë‹¨í•˜ê²Œ ë¶ˆëŸ¬ì˜´)</span></span>
<span id="cb108-2"><a href="#cb108-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb108-3"><a href="#cb108-3" aria-hidden="true" tabindex="-1"></a><span class="co">#X_train &lt;- read.csv("../input/.../X_train.csv", stringsAsFactors=T)</span></span>
<span id="cb108-4"><a href="#cb108-4" aria-hidden="true" tabindex="-1"></a><span class="co">#y_train &lt;- read.csv("../input/.../y_train.csv", stringsAsFactors=T)</span></span>
<span id="cb108-5"><a href="#cb108-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb108-6"><a href="#cb108-6" aria-hidden="true" tabindex="-1"></a><span class="co">#X_test &lt;- read.csv("../input/.../X_test.csv", stringsAsFactors=T)</span></span>
<span id="cb108-7"><a href="#cb108-7" aria-hidden="true" tabindex="-1"></a><span class="co">#y_test &lt;- read.csv("../input/.../y_test.csv", stringsAsFactors=T)</span></span>
<span id="cb108-8"><a href="#cb108-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb108-9"><a href="#cb108-9" aria-hidden="true" tabindex="-1"></a><span class="co">#penquin ë°ì´í„°ë¥¼ ì´ìš©í•˜ì—¬ ë°ì´í„° train, test ë°ì´í„° ë§Œë“¤ê¸°</span></span>
<span id="cb108-10"><a href="#cb108-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb108-11"><a href="#cb108-11" aria-hidden="true" tabindex="-1"></a>penguins <span class="ot">&lt;-</span> penguins <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">id=</span><span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(penguins)) <span class="sc">|&gt;</span> </span>
<span id="cb108-12"><a href="#cb108-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">bill_depth =</span> bill_depth_mm,</span>
<span id="cb108-13"><a href="#cb108-13" aria-hidden="true" tabindex="-1"></a>         <span class="at">bill_length =</span> bill_length_mm ,</span>
<span id="cb108-14"><a href="#cb108-14" aria-hidden="true" tabindex="-1"></a>         <span class="at">flipper_length  =</span> flipper_length_mm,</span>
<span id="cb108-15"><a href="#cb108-15" aria-hidden="true" tabindex="-1"></a>         <span class="at">body_mass  =</span> body_mass_g )</span>
<span id="cb108-16"><a href="#cb108-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb108-17"><a href="#cb108-17" aria-hidden="true" tabindex="-1"></a>X_train <span class="ot">&lt;-</span> penguins[<span class="dv">1</span><span class="sc">:</span><span class="dv">300</span>, <span class="sc">-</span><span class="dv">4</span>]</span>
<span id="cb108-18"><a href="#cb108-18" aria-hidden="true" tabindex="-1"></a>y_train <span class="ot">&lt;-</span> penguins[<span class="dv">1</span><span class="sc">:</span><span class="dv">300</span>, <span class="fu">c</span>(<span class="dv">4</span>,<span class="dv">9</span>)]</span>
<span id="cb108-19"><a href="#cb108-19" aria-hidden="true" tabindex="-1"></a>X_test <span class="ot">&lt;-</span> penguins[<span class="dv">301</span><span class="sc">:</span><span class="dv">344</span>, <span class="sc">-</span><span class="dv">4</span>]</span>
<span id="cb108-20"><a href="#cb108-20" aria-hidden="true" tabindex="-1"></a>y_test <span class="ot">&lt;-</span> penguins[<span class="dv">301</span><span class="sc">:</span><span class="dv">344</span>, <span class="fu">c</span>(<span class="dv">4</span>,<span class="dv">9</span>)]</span>
<span id="cb108-21"><a href="#cb108-21" aria-hidden="true" tabindex="-1"></a>y_test[,<span class="dv">1</span>] <span class="ot">&lt;-</span> <span class="dv">0</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<ul>
<li>ë°ì´í„° í•©ì¹˜ê¸°</li>
</ul>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb109"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb109-1"><a href="#cb109-1" aria-hidden="true" tabindex="-1"></a>train<span class="ot">&lt;-</span><span class="fu">inner_join</span>(y_train, X_train, <span class="at">by=</span><span class="st">"id"</span>)</span>
<span id="cb109-2"><a href="#cb109-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-3"><a href="#cb109-3" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(train)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>tibble [300 Ã— 9] (S3: tbl_df/tbl/data.frame)
 $ bill_depth    : num [1:300] 18.7 17.4 18 NA 19.3 20.6 17.8 19.6 18.1 20.2 ...
 $ id            : int [1:300] 1 2 3 4 5 6 7 8 9 10 ...
 $ species       : Factor w/ 3 levels "Adelie","Chinstrap",..: 1 1 1 1 1 1 1 1 1 1 ...
 $ island        : Factor w/ 3 levels "Biscoe","Dream",..: 3 3 3 3 3 3 3 3 3 3 ...
 $ bill_length   : num [1:300] 39.1 39.5 40.3 NA 36.7 39.3 38.9 39.2 34.1 42 ...
 $ flipper_length: int [1:300] 181 186 195 NA 193 190 181 195 193 190 ...
 $ body_mass     : int [1:300] 3750 3800 3250 NA 3450 3650 3625 4675 3475 4250 ...
 $ sex           : Factor w/ 2 levels "female","male": 2 1 1 NA 1 2 1 2 NA NA ...
 $ year          : int [1:300] 2007 2007 2007 2007 2007 2007 2007 2007 2007 2007 ...</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb111"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb111-1"><a href="#cb111-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(X_test)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>tibble [44 Ã— 8] (S3: tbl_df/tbl/data.frame)
 $ species       : Factor w/ 3 levels "Adelie","Chinstrap",..: 2 2 2 2 2 2 2 2 2 2 ...
 $ island        : Factor w/ 3 levels "Biscoe","Dream",..: 2 2 2 2 2 2 2 2 2 2 ...
 $ bill_length   : num [1:44] 46.7 52 50.5 49.5 46.4 52.8 40.9 54.2 42.5 51 ...
 $ flipper_length: int [1:44] 195 197 200 200 191 205 187 201 187 203 ...
 $ body_mass     : int [1:44] 3300 4150 3400 3800 3700 4550 3200 4300 3350 4100 ...
 $ sex           : Factor w/ 2 levels "female","male": 1 2 1 2 1 2 1 2 1 2 ...
 $ year          : int [1:44] 2007 2007 2008 2008 2008 2008 2008 2008 2008 2008 ...
 $ id            : int [1:44] 301 302 303 304 305 306 307 308 309 310 ...</code></pre>
</div>
</div>
<ul>
<li>ë¶ˆí•„ìš”í•œ ì»¬ëŸ¼ ì œê±°í•˜ê¸°</li>
</ul>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb113"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb113-1"><a href="#cb113-1" aria-hidden="true" tabindex="-1"></a><span class="co"># id ì—´ ì œê±°í•˜ê¸°</span></span>
<span id="cb113-2"><a href="#cb113-2" aria-hidden="true" tabindex="-1"></a>train<span class="ot">&lt;-</span> train[,<span class="sc">-</span><span class="dv">2</span>]</span>
<span id="cb113-3"><a href="#cb113-3" aria-hidden="true" tabindex="-1"></a>test<span class="ot">&lt;-</span>X_test[,<span class="sc">-</span><span class="dv">8</span>]</span>
<span id="cb113-4"><a href="#cb113-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb113-5"><a href="#cb113-5" aria-hidden="true" tabindex="-1"></a><span class="co"># na ê°€ ìˆëŠ” ì—´ í™•ì¸í•˜ê¸°</span></span>
<span id="cb113-6"><a href="#cb113-6" aria-hidden="true" tabindex="-1"></a><span class="fu">colSums</span>(<span class="fu">is.na</span>(train)) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>    bill_depth        species         island    bill_length flipper_length 
             2              0              0              2              2 
     body_mass            sex           year 
             2             11              0 </code></pre>
</div>
</div>
<ul>
<li>NAê°€ ìˆëŠ”ì§€ í™•ì¸í•˜ê¸°</li>
</ul>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb115"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb115-1"><a href="#cb115-1" aria-hidden="true" tabindex="-1"></a><span class="fu">colSums</span>(<span class="fu">is.na</span>(test))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>       species         island    bill_length flipper_length      body_mass 
             0              0              0              0              0 
           sex           year 
             0              0 </code></pre>
</div>
</div>
<ul>
<li>NAê°€ ìˆëŠ” í–‰ ì‚­ì œí•˜ê¸°</li>
</ul>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb117"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb117-1"><a href="#cb117-1" aria-hidden="true" tabindex="-1"></a><span class="co"># na ê°€ ìˆëŠ” ì—´ ì œê±°í•˜ê¸°</span></span>
<span id="cb117-2"><a href="#cb117-2" aria-hidden="true" tabindex="-1"></a>train<span class="ot">&lt;-</span> train <span class="sc">%&gt;%</span> <span class="fu">na.omit</span>()</span>
<span id="cb117-3"><a href="#cb117-3" aria-hidden="true" tabindex="-1"></a>test<span class="ot">&lt;-</span> test <span class="sc">%&gt;%</span> <span class="fu">na.omit</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<ul>
<li>í›ˆë ¨ìš©/ê²€ì¦ìš© ë°ì´í„° ë‚˜ëˆ„ê¸°</li>
</ul>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb118"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb118-1"><a href="#cb118-1" aria-hidden="true" tabindex="-1"></a><span class="co">#í›ˆë ¨/ê²€ì¦ ë°ì´í„°  70:30 ìœ¼ë¡œ ë‚˜ëˆ„ê¸°</span></span>
<span id="cb118-2"><a href="#cb118-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb118-3"><a href="#cb118-3" aria-hidden="true" tabindex="-1"></a>idx<span class="ot">&lt;-</span><span class="fu">createDataPartition</span>(train<span class="sc">$</span>bill_depth, <span class="at">p=</span><span class="fl">0.7</span>, <span class="at">list=</span>F)</span>
<span id="cb118-4"><a href="#cb118-4" aria-hidden="true" tabindex="-1"></a>train_df<span class="ot">&lt;-</span>train[idx,]</span>
<span id="cb118-5"><a href="#cb118-5" aria-hidden="true" tabindex="-1"></a>test_df<span class="ot">&lt;-</span>train[<span class="sc">-</span>idx,]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<ul>
<li>ëª¨ë¸ ë§Œë“¤ê³  í•™ìŠµì‹œí‚¤ê¸°</li>
</ul>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb119"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb119-1"><a href="#cb119-1" aria-hidden="true" tabindex="-1"></a>m1<span class="ot">&lt;-</span><span class="fu">train</span>(bill_depth<span class="sc">~</span>., <span class="at">data=</span>train_df, <span class="at">method=</span><span class="st">"glm"</span>) <span class="co">#ë¡œì§€ìŠ¤í‹± íšŒê·€ ëª¨ë¸</span></span>
<span id="cb119-2"><a href="#cb119-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb119-3"><a href="#cb119-3" aria-hidden="true" tabindex="-1"></a>m2<span class="ot">&lt;-</span><span class="fu">randomForest</span>(bill_depth<span class="sc">~</span>., <span class="at">data=</span>train_df, <span class="at">ntree=</span><span class="dv">100</span>) <span class="co">#ëœë¤í¬ë ˆìŠ¤íŠ¸ ëª¨ë¸</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<ul>
<li>í•™ìŠµëœ ëª¨ë¸ë¡œ ì˜ˆì¸¡í•˜ê¸°</li>
</ul>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb120"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb120-1"><a href="#cb120-1" aria-hidden="true" tabindex="-1"></a>p1<span class="ot">&lt;-</span><span class="fu">predict</span>(m1, test_df)</span>
<span id="cb120-2"><a href="#cb120-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb120-3"><a href="#cb120-3" aria-hidden="true" tabindex="-1"></a>p2<span class="ot">&lt;-</span><span class="fu">predict</span>(m2, test_df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<ul>
<li>ëª¨ë¸ ì •í•©ë„ í‰ê°€í•˜ê¸° (R^2 ë¡œ íŒë‹¨)</li>
</ul>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb121"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb121-1"><a href="#cb121-1" aria-hidden="true" tabindex="-1"></a>caret<span class="sc">::</span><span class="fu">R2</span>(test_df<span class="sc">$</span>bill_depth, p1) <span class="co">#ë¡œì§€ìŠ¤í‹± íšŒê·€ë¶„ì„</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.8584873</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb123"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb123-1"><a href="#cb123-1" aria-hidden="true" tabindex="-1"></a>caret<span class="sc">::</span><span class="fu">R2</span>(test_df<span class="sc">$</span>bill_depth, p2) <span class="co">#ëœë¤í¬ë ˆìŠ¤íŠ¸</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.8600617</code></pre>
</div>
</div>
<ul>
<li>ìµœì¢…ëª¨ë¸ë¡œ ëª¨ë¸ë§, ì˜ˆì¸¡í•˜ê¸°</li>
</ul>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb125"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb125-1"><a href="#cb125-1" aria-hidden="true" tabindex="-1"></a><span class="do">## ëœë¤í¬ë ˆìŠ¤íŠ¸ ëª¨ë¸ë¡œ ìµœì¢… ëª¨ë¸ë§ í•˜ê¸°</span></span>
<span id="cb125-2"><a href="#cb125-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb125-3"><a href="#cb125-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb125-4"><a href="#cb125-4" aria-hidden="true" tabindex="-1"></a>m<span class="ot">&lt;-</span><span class="fu">randomForest</span>(bill_depth<span class="sc">~</span>., <span class="at">data=</span>train, <span class="at">ntree=</span><span class="dv">100</span>)</span>
<span id="cb125-5"><a href="#cb125-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb125-6"><a href="#cb125-6" aria-hidden="true" tabindex="-1"></a>p<span class="ot">&lt;-</span><span class="fu">predict</span>(m, test)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<ul>
<li>ë°ì´í„° ì œì¶œí•˜ê¸°</li>
</ul>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb126"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb126-1"><a href="#cb126-1" aria-hidden="true" tabindex="-1"></a><span class="do">## pê°’ì„ ë¬¸ìì—´ë¡œ ë°”ê¾¸ê³  csv íŒŒì¼ë¡œ ì œì¶œí•˜ê¸°</span></span>
<span id="cb126-2"><a href="#cb126-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb126-3"><a href="#cb126-3" aria-hidden="true" tabindex="-1"></a>p<span class="ot">&lt;-</span><span class="fu">as.character</span>(p)</span>
<span id="cb126-4"><a href="#cb126-4" aria-hidden="true" tabindex="-1"></a>y_test<span class="sc">$</span>species <span class="ot">&lt;-</span> p</span>
<span id="cb126-5"><a href="#cb126-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb126-6"><a href="#cb126-6" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(y_test, <span class="st">"1234.csv"</span>, <span class="at">row.names=</span>F)</span>
<span id="cb126-7"><a href="#cb126-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb126-8"><a href="#cb126-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb126-9"><a href="#cb126-9" aria-hidden="true" tabindex="-1"></a><span class="do">## ì œì¶œëœ ê°’ ë‹¤ì‹œ í•œë²ˆ í™•ì¸í•˜ê¸°</span></span>
<span id="cb126-10"><a href="#cb126-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb126-11"><a href="#cb126-11" aria-hidden="true" tabindex="-1"></a>abc<span class="ot">&lt;-</span><span class="fu">read.csv</span>(<span class="st">"1234.csv"</span>)</span>
<span id="cb126-12"><a href="#cb126-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb126-13"><a href="#cb126-13" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(abc)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>  bill_depth  id  species
1          0 301 18.09608
2          0 302 19.18256
3          0 303 18.15882
4          0 304 18.99137
5          0 305 18.00220
6          0 306 18.22539</code></pre>
</div>
</div>
</section>
<section id="íšŒê·€ì—°ìŠµë¬¸ì œ" class="level3">
<h3 class="anchored" data-anchor-id="íšŒê·€ì—°ìŠµë¬¸ì œ">íšŒê·€ì—°ìŠµë¬¸ì œ</h3>
<ul>
<li>ì¤‘ê³ ì°¨ ê°€ê²© ì˜ˆì¸¡í•˜ê¸°</li>
</ul>
<p>[DATA]<a href="https://www.kaggle.com/datasets/kukuroo3/used-car-price-dataset-competition-format/versions/1" class="uri">https://www.kaggle.com/datasets/kukuroo3/used-car-price-dataset-competition-format/versions/1</a></p>
</section>
<section id="ë¶„ë¥˜classification-í­ê·„ì¢…ë¥˜" class="level3">
<h3 class="anchored" data-anchor-id="ë¶„ë¥˜classification-í­ê·„ì¢…ë¥˜">ë¶„ë¥˜(Classification) : í­ê·„ì¢…ë¥˜</h3>
<pre><code>1. penquin ë°ì´í„°ì˜ í–‰ë²ˆí˜¸ë¥¼ id ì—´ë¡œ ë§Œë“¤ì–´ë¼ (mutate)  

2. penquin ë°ì´í„°ì˜ 1í–‰~300í–‰ê¹Œì§€ ë°ì´í„°ë¥¼ trainìœ¼ë¡œ ë§Œë“¤ê³ , bill_depth ì—´ì„ ì œì™¸í•˜ê³  X_train, idì™€ bill_depth ì—´ì„ ì´ìš©í•˜ì—¬ y_trainì„ ë§Œë“¤ì–´ë¼  

3. penquin ë°ì´í„°ì˜ 300í–‰~ë§ˆì§€ë§‰í–‰ê¹Œì§€  ë°ì´í„°ë¥¼ test ë¡œ ë§Œë“¤ê³ , bill_depth ì—´ì„ ì œì™¸í•˜ê³  y_train, idì™€ bill_depth ì—´ì„ ì´ìš©í•˜ì—¬ y_testì„ ë§Œë“¤ì–´ë¼.     

4. X_train, y_train ìœ¼ë¡œ ëª¨ë¸ë§ì„ í•œ í›„, X_testë¥¼ ì´ìš©í•˜ì—¬ y_testì˜ bill_depthë¥¼ ì˜ˆì¸¡í•˜ë¼.

5. ì˜ˆì¸¡í•œ ê°’ì„ "ìˆ˜í—˜ë²ˆí˜¸.csv" íŒŒì¼ë¡œ ì œì¶œí•˜ë¼.</code></pre>
<ul>
<li>íŒ¨í‚¤ì§€ ë¶ˆëŸ¬ì˜¤ê¸°</li>
</ul>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb129"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb129-1"><a href="#cb129-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb129-2"><a href="#cb129-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(caret)</span>
<span id="cb129-3"><a href="#cb129-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ModelMetrics)</span>
<span id="cb129-4"><a href="#cb129-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(randomForest)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<ul>
<li>ë°ì´í„° ë¶ˆëŸ¬ì˜¤ê¸°</li>
</ul>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb130"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb130-1"><a href="#cb130-1" aria-hidden="true" tabindex="-1"></a><span class="do">## ë°ì´í„° ë¶ˆëŸ¬ì˜¤ê¸° (ì‹¤ì œ ì‹œí—˜ì¥ì—ì„œëŠ” ì•„ë˜ì™€ ê°™ì´ ê°„ë‹¨í•˜ê²Œ ë¶ˆëŸ¬ì˜´)</span></span>
<span id="cb130-2"><a href="#cb130-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb130-3"><a href="#cb130-3" aria-hidden="true" tabindex="-1"></a><span class="co">#X_train &lt;- read.csv("../input/.../X_train.csv", stringsAsFactors=T)</span></span>
<span id="cb130-4"><a href="#cb130-4" aria-hidden="true" tabindex="-1"></a><span class="co">#y_train &lt;- read.csv("../input/.../y_train.csv", stringsAsFactors=T)</span></span>
<span id="cb130-5"><a href="#cb130-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb130-6"><a href="#cb130-6" aria-hidden="true" tabindex="-1"></a><span class="co">#X_test &lt;- read.csv("../input/.../X_test.csv", stringsAsFactors=T)</span></span>
<span id="cb130-7"><a href="#cb130-7" aria-hidden="true" tabindex="-1"></a><span class="co">#y_test &lt;- read.csv("../input/.../y_test.csv", stringsAsFactors=T)</span></span>
<span id="cb130-8"><a href="#cb130-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb130-9"><a href="#cb130-9" aria-hidden="true" tabindex="-1"></a><span class="co">#penquin ë°ì´í„°ë¥¼ ì´ìš©í•˜ì—¬ ë°ì´í„° train, test ë°ì´í„° ë§Œë“¤ê¸°</span></span>
<span id="cb130-10"><a href="#cb130-10" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span>(<span class="at">list=</span><span class="fu">ls</span>())</span>
<span id="cb130-11"><a href="#cb130-11" aria-hidden="true" tabindex="-1"></a>penguins <span class="ot">&lt;-</span> penguins <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">id=</span><span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(penguins)) <span class="sc">|&gt;</span> </span>
<span id="cb130-12"><a href="#cb130-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">bill_depth =</span> bill_depth_mm,</span>
<span id="cb130-13"><a href="#cb130-13" aria-hidden="true" tabindex="-1"></a>         <span class="at">bill_length =</span> bill_length_mm ,</span>
<span id="cb130-14"><a href="#cb130-14" aria-hidden="true" tabindex="-1"></a>         <span class="at">flipper_length  =</span> flipper_length_mm,</span>
<span id="cb130-15"><a href="#cb130-15" aria-hidden="true" tabindex="-1"></a>         <span class="at">body_mass  =</span> body_mass_g )</span>
<span id="cb130-16"><a href="#cb130-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb130-17"><a href="#cb130-17" aria-hidden="true" tabindex="-1"></a>X_train <span class="ot">&lt;-</span> penguins[<span class="dv">1</span><span class="sc">:</span><span class="dv">300</span>, <span class="sc">-</span><span class="dv">1</span>]</span>
<span id="cb130-18"><a href="#cb130-18" aria-hidden="true" tabindex="-1"></a>y_train <span class="ot">&lt;-</span> penguins[<span class="dv">1</span><span class="sc">:</span><span class="dv">300</span>, <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">9</span>)]</span>
<span id="cb130-19"><a href="#cb130-19" aria-hidden="true" tabindex="-1"></a>X_test <span class="ot">&lt;-</span> penguins[<span class="dv">301</span><span class="sc">:</span><span class="dv">344</span>, <span class="sc">-</span><span class="dv">1</span>]</span>
<span id="cb130-20"><a href="#cb130-20" aria-hidden="true" tabindex="-1"></a>y_test <span class="ot">&lt;-</span> penguins[<span class="dv">301</span><span class="sc">:</span><span class="dv">344</span>, <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">9</span>)]</span>
<span id="cb130-21"><a href="#cb130-21" aria-hidden="true" tabindex="-1"></a>y_test[,<span class="dv">1</span>] <span class="ot">&lt;-</span> <span class="dv">0</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<ul>
<li>ë°ì´í„° í•©ì¹˜ê¸°</li>
</ul>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb131"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb131-1"><a href="#cb131-1" aria-hidden="true" tabindex="-1"></a>train<span class="ot">&lt;-</span><span class="fu">inner_join</span>(y_train, X_train, <span class="at">by=</span><span class="st">"id"</span>)</span>
<span id="cb131-2"><a href="#cb131-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-3"><a href="#cb131-3" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(train)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>tibble [300 Ã— 9] (S3: tbl_df/tbl/data.frame)
 $ species       : Factor w/ 3 levels "Adelie","Chinstrap",..: 1 1 1 1 1 1 1 1 1 1 ...
 $ id            : int [1:300] 1 2 3 4 5 6 7 8 9 10 ...
 $ island        : Factor w/ 3 levels "Biscoe","Dream",..: 3 3 3 3 3 3 3 3 3 3 ...
 $ bill_length   : num [1:300] 39.1 39.5 40.3 NA 36.7 39.3 38.9 39.2 34.1 42 ...
 $ bill_depth    : num [1:300] 18.7 17.4 18 NA 19.3 20.6 17.8 19.6 18.1 20.2 ...
 $ flipper_length: int [1:300] 181 186 195 NA 193 190 181 195 193 190 ...
 $ body_mass     : int [1:300] 3750 3800 3250 NA 3450 3650 3625 4675 3475 4250 ...
 $ sex           : Factor w/ 2 levels "female","male": 2 1 1 NA 1 2 1 2 NA NA ...
 $ year          : int [1:300] 2007 2007 2007 2007 2007 2007 2007 2007 2007 2007 ...</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb133"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb133-1"><a href="#cb133-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(X_test)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>tibble [44 Ã— 8] (S3: tbl_df/tbl/data.frame)
 $ island        : Factor w/ 3 levels "Biscoe","Dream",..: 2 2 2 2 2 2 2 2 2 2 ...
 $ bill_length   : num [1:44] 46.7 52 50.5 49.5 46.4 52.8 40.9 54.2 42.5 51 ...
 $ bill_depth    : num [1:44] 17.9 19 18.4 19 17.8 20 16.6 20.8 16.7 18.8 ...
 $ flipper_length: int [1:44] 195 197 200 200 191 205 187 201 187 203 ...
 $ body_mass     : int [1:44] 3300 4150 3400 3800 3700 4550 3200 4300 3350 4100 ...
 $ sex           : Factor w/ 2 levels "female","male": 1 2 1 2 1 2 1 2 1 2 ...
 $ year          : int [1:44] 2007 2007 2008 2008 2008 2008 2008 2008 2008 2008 ...
 $ id            : int [1:44] 301 302 303 304 305 306 307 308 309 310 ...</code></pre>
</div>
</div>
<ul>
<li>ë¶ˆí•„ìš”í•œ ì»¬ëŸ¼ ì œê±°í•˜ê¸°</li>
</ul>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb135"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb135-1"><a href="#cb135-1" aria-hidden="true" tabindex="-1"></a><span class="co"># id ì—´ ì œê±°í•˜ê¸°</span></span>
<span id="cb135-2"><a href="#cb135-2" aria-hidden="true" tabindex="-1"></a>train<span class="ot">&lt;-</span> train[,<span class="sc">-</span><span class="dv">2</span>]</span>
<span id="cb135-3"><a href="#cb135-3" aria-hidden="true" tabindex="-1"></a>test<span class="ot">&lt;-</span>X_test[,<span class="sc">-</span><span class="dv">8</span>]</span>
<span id="cb135-4"><a href="#cb135-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb135-5"><a href="#cb135-5" aria-hidden="true" tabindex="-1"></a><span class="co"># na ê°€ ìˆëŠ” ì—´ í™•ì¸í•˜ê¸°</span></span>
<span id="cb135-6"><a href="#cb135-6" aria-hidden="true" tabindex="-1"></a><span class="fu">colSums</span>(<span class="fu">is.na</span>(train)) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>       species         island    bill_length     bill_depth flipper_length 
             0              0              2              2              2 
     body_mass            sex           year 
             2             11              0 </code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb137"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb137-1"><a href="#cb137-1" aria-hidden="true" tabindex="-1"></a><span class="fu">colSums</span>(<span class="fu">is.na</span>(test))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>        island    bill_length     bill_depth flipper_length      body_mass 
             0              0              0              0              0 
           sex           year 
             0              0 </code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb139"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb139-1"><a href="#cb139-1" aria-hidden="true" tabindex="-1"></a><span class="co"># na ê°€ ìˆëŠ” ì—´ ì œê±°í•˜ê¸°</span></span>
<span id="cb139-2"><a href="#cb139-2" aria-hidden="true" tabindex="-1"></a>train<span class="ot">&lt;-</span> train <span class="sc">%&gt;%</span> <span class="fu">na.omit</span>()</span>
<span id="cb139-3"><a href="#cb139-3" aria-hidden="true" tabindex="-1"></a>test<span class="ot">&lt;-</span> test <span class="sc">%&gt;%</span> <span class="fu">na.omit</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<ul>
<li>í›ˆë ¨ìš©/ ê²€ì¦ìš© ë°ì´í„° ë¶„ë¦¬</li>
</ul>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb140"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb140-1"><a href="#cb140-1" aria-hidden="true" tabindex="-1"></a><span class="co">#í›ˆë ¨/ê²€ì¦ ë°ì´í„°  70:30 ìœ¼ë¡œ ë‚˜ëˆ„ê¸°</span></span>
<span id="cb140-2"><a href="#cb140-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb140-3"><a href="#cb140-3" aria-hidden="true" tabindex="-1"></a>idx<span class="ot">&lt;-</span><span class="fu">createDataPartition</span>(train<span class="sc">$</span>species, <span class="at">p=</span><span class="fl">0.7</span>, <span class="at">list=</span>F)</span>
<span id="cb140-4"><a href="#cb140-4" aria-hidden="true" tabindex="-1"></a>train_df<span class="ot">&lt;-</span>train[idx,]</span>
<span id="cb140-5"><a href="#cb140-5" aria-hidden="true" tabindex="-1"></a>test_df<span class="ot">&lt;-</span>train[<span class="sc">-</span>idx,]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<ul>
<li>ëª¨ë¸ ë§Œë“¤ê¸°</li>
</ul>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb141"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb141-1"><a href="#cb141-1" aria-hidden="true" tabindex="-1"></a>m1<span class="ot">&lt;-</span><span class="fu">train</span>(species<span class="sc">~</span>., <span class="at">data=</span>train_df, <span class="at">method=</span><span class="st">"rpart"</span>) <span class="co">#ì˜ì‚¬ê²°ì •ë‚˜ë¬´ ëª¨ë¸</span></span>
<span id="cb141-2"><a href="#cb141-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-3"><a href="#cb141-3" aria-hidden="true" tabindex="-1"></a>m2<span class="ot">&lt;-</span><span class="fu">randomForest</span>(species<span class="sc">~</span>., <span class="at">data=</span>train_df, <span class="at">ntree=</span><span class="dv">100</span>) <span class="co">#ëœë¤í¬ë ˆìŠ¤íŠ¸ ëª¨ë¸</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<ul>
<li>ì˜ˆì¸¡í•˜ê¸°</li>
</ul>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb142"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb142-1"><a href="#cb142-1" aria-hidden="true" tabindex="-1"></a>p1<span class="ot">&lt;-</span><span class="fu">predict</span>(m1, test_df)</span>
<span id="cb142-2"><a href="#cb142-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb142-3"><a href="#cb142-3" aria-hidden="true" tabindex="-1"></a>p2<span class="ot">&lt;-</span><span class="fu">predict</span>(m2, test_df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<ul>
<li>ëª¨ë¸ í‰ê°€íˆê¸°</li>
</ul>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb143"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb143-1"><a href="#cb143-1" aria-hidden="true" tabindex="-1"></a>caret<span class="sc">::</span><span class="fu">confusionMatrix</span>(test_df<span class="sc">$</span>species, p1)<span class="sc">$</span>overall[<span class="dv">1</span>] <span class="co">#ì˜ì‚¬ê²°ì •ë‚˜ë¬´/accuracy</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code> Accuracy 
0.9647059 </code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb145"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb145-1"><a href="#cb145-1" aria-hidden="true" tabindex="-1"></a>caret<span class="sc">::</span><span class="fu">confusionMatrix</span>(test_df<span class="sc">$</span>species, p1)<span class="sc">$</span>byClass[<span class="dv">7</span>] <span class="co">#ì˜ì‚¬ê²°ì •ë‚˜ë¬´/F1</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.9534884</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb147"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb147-1"><a href="#cb147-1" aria-hidden="true" tabindex="-1"></a>caret<span class="sc">::</span><span class="fu">confusionMatrix</span>(test_df<span class="sc">$</span>species, p2)<span class="sc">$</span>overall[<span class="dv">1</span>] <span class="co">#ëœë¤í¬ë ˆìŠ¤íŠ¸/accuracy</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Accuracy 
       1 </code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb149"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb149-1"><a href="#cb149-1" aria-hidden="true" tabindex="-1"></a>caret<span class="sc">::</span><span class="fu">confusionMatrix</span>(test_df<span class="sc">$</span>species, p2)<span class="sc">$</span>byClass[<span class="dv">7</span>] <span class="co">#ëœë¤í¬ë ˆìŠ¤íŠ¸/F1</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1</code></pre>
</div>
</div>
<ul>
<li>ìµœì¢…ëª¨ë¸ë¡œ ëª¨ë¸ë§, ì˜ˆì¸¡í•˜ê¸°</li>
</ul>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb151"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb151-1"><a href="#cb151-1" aria-hidden="true" tabindex="-1"></a><span class="do">## ëœë¤í¬ë ˆìŠ¤íŠ¸ ëª¨ë¸ë¡œ ìµœì¢… ëª¨ë¸ë§ í•˜ê¸°</span></span>
<span id="cb151-2"><a href="#cb151-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb151-3"><a href="#cb151-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb151-4"><a href="#cb151-4" aria-hidden="true" tabindex="-1"></a>m<span class="ot">&lt;-</span><span class="fu">randomForest</span>(species<span class="sc">~</span>., <span class="at">data=</span>train, <span class="at">ntree=</span><span class="dv">100</span>)</span>
<span id="cb151-5"><a href="#cb151-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb151-6"><a href="#cb151-6" aria-hidden="true" tabindex="-1"></a>p<span class="ot">&lt;-</span><span class="fu">predict</span>(m, test)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<ul>
<li>ë°ì´í„° ì œì¶œí•˜ê¸°</li>
</ul>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb152"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb152-1"><a href="#cb152-1" aria-hidden="true" tabindex="-1"></a><span class="do">## pê°’ì„ ë¬¸ìì—´ë¡œ ë°”ê¾¸ê³  csv íŒŒì¼ë¡œ ì œì¶œí•˜ê¸°</span></span>
<span id="cb152-2"><a href="#cb152-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb152-3"><a href="#cb152-3" aria-hidden="true" tabindex="-1"></a>p<span class="ot">&lt;-</span><span class="fu">as.character</span>(p)</span>
<span id="cb152-4"><a href="#cb152-4" aria-hidden="true" tabindex="-1"></a>y_test<span class="sc">$</span>species <span class="ot">&lt;-</span> p</span>
<span id="cb152-5"><a href="#cb152-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb152-6"><a href="#cb152-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb152-7"><a href="#cb152-7" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(y_test, <span class="st">"1234.csv"</span>, <span class="at">row.names=</span>F)</span>
<span id="cb152-8"><a href="#cb152-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb152-9"><a href="#cb152-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb152-10"><a href="#cb152-10" aria-hidden="true" tabindex="-1"></a><span class="do">## ì œì¶œëœ ê°’ ë‹¤ì‹œ í•œë²ˆ í™•ì¸í•˜ê¸° </span></span>
<span id="cb152-11"><a href="#cb152-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb152-12"><a href="#cb152-12" aria-hidden="true" tabindex="-1"></a>abc<span class="ot">&lt;-</span><span class="fu">read.csv</span>(<span class="st">"1234.csv"</span>)</span>
<span id="cb152-13"><a href="#cb152-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb152-14"><a href="#cb152-14" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(abc)  </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>    species  id
1 Chinstrap 301
2 Chinstrap 302
3 Chinstrap 303
4 Chinstrap 304
5 Chinstrap 305
6    Adelie 306</code></pre>
</div>
</div>
</section>
<section id="ë¶„ë¥˜ì—°ìŠµë¬¸ì œ" class="level3">
<h3 class="anchored" data-anchor-id="ë¶„ë¥˜ì—°ìŠµë¬¸ì œ">ë¶„ë¥˜ì—°ìŠµë¬¸ì œ</h3>
<ul>
<li>ì´ì§í•  ì‚¬ëŒ ì°¾ì•„ë‚´ê¸°</li>
</ul>
<p>[DATA]<a href="https://www.kaggle.com/datasets/kukuroo3/hr-data-predict-change-jobscompetition-form/versions/1" class="uri">https://www.kaggle.com/datasets/kukuroo3/hr-data-predict-change-jobscompetition-form/versions/1</a></p>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js" "=""></script>
<script type="text/javascript">
  $(document).ready(function() {
    $('body').prepend('<div class=\"zoomDiv\"><img src=\"\" class=\"zoomImg\"></div>');
    // onClick function for all plots (img's)
    $('img:not(.zoomImg)').click(function() {
      $('.zoomImg').attr('src', $(this).attr('src')).css({width: '100%'});
      $('.zoomDiv').css({opacity: '1', width: 'auto', border: '1px solid white', borderRadius: '5px', position: 'fixed', top: '50%', left: '50%', marginRight: '-50%', transform: 'translate(-50%, -50%)', boxShadow: '0px 0px 50px #888888', zIndex: '50', overflow: 'auto', maxHeight: '100%'});
    });
    // onClick function for zoomImg
    $('img.zoomImg').click(function() {
      $('.zoomDiv').css({opacity: '0', width: '0%'}); 
    });
  });
</script>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "î§‹";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      return note.innerHTML;
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>